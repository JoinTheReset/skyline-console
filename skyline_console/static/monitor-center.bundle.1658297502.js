(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1128:function(e,a,r){"use strict";var n=r(35),l=r(44),i=r(33),s=r(25),o=r(28),u=r(45),d=r(46),c=r(19),f=r(21);c(a,"__esModule",{value:!0}),a.fetchPrometheus=D,a.getRequestUrl=I,a.addParams=P,a.getInterval=function(e){var t=(e||T(0))[0],a=(e||T(0))[1].diff(t,"minutes");return k[(a>44640?3:a>1440&&a<=44640&&2)||a>60&&a<=1440&&1||a>0&&a<=60&&0||0]},a.getPromises=a.range2IntervalsDict=a.getRange=a.defaultOneHourAgo=a.baseReturnFunc=a.getXScale=a.ChartType=void 0;var m=f(r(65)),p=f(r(35)),v=f(r(28)),h=f(r(82)),g=f(r(62)),y=f(r(37)),b=r(527),_=f(r(115)),x=f(r(49)),C=r(47);function S(e,t){var a=n(e);if(l){var r=l(e);t&&(r=i(r).call(r,(function(t){return s(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)o(a=S(Object(r),!0)).call(a,(function(t){(0,y.default)(e,t,r[t])}));else if(u)d(e,u(r));else{var n;o(n=S(Object(r))).call(n,(function(t){c(e,t,s(r,t))}))}}return e}a.ChartType={ONELINE:"oneline",MULTILINE:"multiline",ONELINEDEVICES:"oneline_devices",MULTILINEDEVICES:"multiline_devices"};a.getXScale=e=>{var t=(0,_.default)(e[1]).diff((0,_.default)(e[0]),"minutes",!0);return w({type:"time"},N[(t>20160?4:t>10080&&t<=20160&&3)||t>1440&&t<=10080&&2||t>60&&t<=1440&&1||t>0&&t<=60&&0||0])};var E=e=>e;function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"range",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return"current"===t?x.default.skyline.query.list({query:e}):"range"===t?x.default.skyline.queryRange.list({query:e,start:(0,b.getTimestamp)(a[0]),end:(0,b.getTimestamp)(a[1]),step:r}):m.default.resolve()}function I(e,t,a,r){var n=w(w({},t),r);return a(0===(0,p.default)(n).length?e:P(e,n))}function P(e,t){var a,r,n="";return(0,v.default)(a=(0,p.default)(t)).call(a,(e=>{var a,r;(0,C.isArray)(t[e])?n+=(0,h.default)(a="".concat(e,'=~"')).call(a,t[e].join("|"),'",'):n+=(0,h.default)(r="".concat(e,'="')).call(r,t[e],'",')})),(0,h.default)(r="".concat(e,"{")).call(r,n.substring(0,n.length-1),"}")}a.baseReturnFunc=E;a.defaultOneHourAgo=()=>[(0,_.default)().subtract(1,"hours"),(0,_.default)()];var T=e=>({3:[(0,_.default)().subtract(2,"weeks"),(0,_.default)()],2:[(0,_.default)().subtract(1,"weeks"),(0,_.default)()],1:[(0,_.default)().subtract(1,"days"),(0,_.default)()],0:[(0,_.default)().subtract(1,"hours"),(0,_.default)()]}[e]||[(0,_.default)().subtract(1,"hours"),(0,_.default)()]);a.getRange=T;var N=[{formatter:e=>(0,b.getStrFromTimestamp)(e,"HH:mm:ss"),ticketCount:6},{formatter:e=>(0,b.getStrFromTimestamp)(e,"HH:mm:ss"),ticketCount:6},{formatter:e=>(0,b.getStrFromTimestamp)(e,"MM-DD HH:mm"),ticketCount:3},{formatter:e=>(0,b.getStrFromTimestamp)(e,"MM-DD HH:mm"),ticketCount:6},{formatter:e=>(0,b.getStrFromTimestamp)(e,"MM-DD HH:mm"),ticketCount:6}],k=[[{text:t("10s"),value:10},{text:t("1min"),value:60},{text:t("5min"),value:300}],[{text:t("1min"),value:60},{text:t("5min"),value:300},{text:t("1H"),value:3600}],[{text:t("1H"),value:3600},{text:t("1D"),value:86400}],[{text:t("1D"),value:86400}]];a.range2IntervalsDict=k;a.getPromises=e=>{var t,a=(0,C.get)(METRICDICT,e);return(0,g.default)(t=a.url).call(t,((e,t)=>D(I(e,{},(a.finalFormatFunc||[])[t]||E,(a.baseParams||[])[t]||{}),"current")))}},1173:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=t.InstancesStore=void 0;var l,i,s=n(a(62)),o=n(a(25)),u=n(a(52)),d=n(a(72)),c=(n(a(37)),n(a(55))),f=(n(a(73)),n(a(54))),m=n(a(49)),p=a(32),v=(l=class extends f.default{constructor(){super(...arguments),(0,d.default)(this,"dataList",i,this)}get client(){return m.default.trove.instances}get clientDatastore(){return m.default.trove.datastores}get clientConfigurationGroup(){return m.default.trove.configurations}create(e){var t=this;return(0,u.default)((function*(){return t.submitting(t.client.create(e))}))()}delete(e,t){var a=this;return(0,u.default)((function*(){var{params:r}=e;return a.client.delete(r,t)}))()}listDatastores(){var e=this;return(0,u.default)((function*(){var t=(yield e.clientDatastore.list()).datastores;e.dataList=(0,s.default)(t).call(t,e.mapper)}))()}fetchListWithoutDetail(){var e=this;return(0,u.default)((function*(){var t=(yield e.client.list())[e.listResponseKey];e.list.data=(0,s.default)(t).call(t,e.mapper)}))()}listConfigurationGroup(){var e=this;return(0,u.default)((function*(){var t=(yield e.clientConfigurationGroup.list()).configurations;e.list.data=(0,s.default)(t).call(t,e.mapper)}))()}},i=(0,c.default)(l.prototype,"dataList",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,c.default)(l.prototype,"create",[p.action],(0,o.default)(l.prototype,"create"),l.prototype),(0,c.default)(l.prototype,"delete",[p.action],(0,o.default)(l.prototype,"delete"),l.prototype),(0,c.default)(l.prototype,"listDatastores",[p.action],(0,o.default)(l.prototype,"listDatastores"),l.prototype),(0,c.default)(l.prototype,"fetchListWithoutDetail",[p.action],(0,o.default)(l.prototype,"fetchListWithoutDetail"),l.prototype),(0,c.default)(l.prototype,"listConfigurationGroup",[p.action],(0,o.default)(l.prototype,"listConfigurationGroup"),l.prototype),l);t.InstancesStore=v;var h=new v;t.default=h},1182:function(e,t,a){"use strict";var r=a(156),n=a(19),l=a(25),i=a(21);n(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a(536));a(324);var o=i(a(325));a(318);var u=i(a(317)),d=i(a(1192)),c=i(a(52)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var r={},i=n&&l;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?l(e,s):null;o&&(o.get||o.set)?n(r,s,o):r[s]=e[s]}r.default=e,a&&a.set(e,r);return r}(a(0)),m=(a(167),a(513),a(1128)),p=i(a(1512)),v=i(a(3934)),h=i(a(3935)),g=i(a(3936)),y=i(a(1330)),b=a(1267),_=i(a(1331));function x(e){if("function"!=typeof r)return null;var t=new r,a=new r;return(x=function(e){return e?a:t})(e)}var C=e=>{var t,a,{renderTimeRangeSelect:r,chartConfig:n,renderNodeSelect:l,fetchNodesFunc:i,defaultNode:b,children:x,type:C}=e,[S,w,E,D]=(0,g.default)(b),[I,P,T,N]=(0,h.default)((0,m.defaultOneHourAgo)()),[k,M]=(0,v.default)(I),[L,F]=(0,f.useState)(!0),[O,K]=(0,f.useState)(!0),A=function(){var e=(0,c.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(F(!0),l){K(!0);var t=yield i();D(t),S&&!e||E(t[0]),e&&4!==T&&N((0,m.getRange)(T)),K(!1),F(!1)}else(0,s.default)((()=>{F(!1)}),300)}));return function(){return e.apply(this,arguments)}}(),R={interval:k,range:I,node:S};return(0,f.useEffect)((()=>{A()}),[k,I]),(0,f.useEffect)((()=>{A(!0)}),[C]),(0,f.useEffect)((()=>{F(!0),(0,s.default)((()=>{F(!1)}),300)}),[S]),f.default.createElement("div",{className:y.default["base-content-container"]},f.default.createElement(_.default.Provider,{value:R},(r||l)&&f.default.createElement(u.default,{type:"default",icon:f.default.createElement(d.default,null),onClick:()=>A(!0),className:y.default.refresh}),r&&f.default.createElement("div",{className:y.default.header},f.default.createElement(P,null),f.default.createElement(M,null)),l&&(O?f.default.createElement(o.default,null):f.default.createElement(w,null)),l&&O||L&&0!==(null==n||null===(t=n.chartCardList)||void 0===t?void 0:t.length)&&0!==(null==n||null===(a=n.topCardList)||void 0===a?void 0:a.length)?null:f.default.createElement(p.default,n),l&&O||L?f.default.createElement(o.default,null):x))};C.defaultProps={renderNodeSelect:!0,renderTimeRangeSelect:!0,fetchNodesFunc:b.defaultGetNodes,defaultNode:void 0};var S=C;t.default=S},1227:function(e,t,a){"use strict";var r=a(35),n=a(44),l=a(33),i=a(25),s=a(28),o=a(45),u=a(46),d=a(19),c=a(21);d(t,"__esModule",{value:!0}),t.baseFixToChart=y,t.handleResponses=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=[];return(0,p.default)(e).call(e,((e,l)=>{n.push(...b(e,t,a,r[l]))})),n},t.handleResponse=b;var f=c(a(37)),m=c(a(395)),p=c(a(28)),v=c(a(516)),h=a(47);function g(e,t){var a=r(e);if(n){var s=n(e);t&&(s=l(s).call(s,(function(t){return i(e,t).enumerable}))),a.push.apply(a,s)}return a}function y(e){return{x:e[0],y:(0,m.default)((0,m.default)(e[1]).toFixed(2))}}function b(e,t,a,r){var n,{data:l}=e,c=[];return(0,p.default)(n=l.result).call(n,(e=>{var n=(0,v.default)(e)||[e.value]||[];(0,p.default)(n).call(n,(n=>{var l=function(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)s(a=g(Object(r),!0)).call(a,(function(t){(0,f.default)(e,t,r[t])}));else if(o)u(e,o(r));else{var n;s(n=g(Object(r))).call(n,(function(t){d(e,t,i(r,t))}))}}return e}({},y(n));t&&(l.type=(0,h.get)(e.metric,t)),a&&(l.device=(0,h.get)(e.metric,a)),r&&(l.type=r),c.push(l)}))})),c}},1228:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=t.InstancesDatabasesStore=void 0;var l,i=n(a(25)),s=n(a(52)),o=n(a(71)),u=n(a(55)),d=n(a(54)),c=n(a(49)),f=a(32),m=(l=class extends d.default{get client(){return c.default.trove.instances.databases}get isSubResource(){return!0}get responseKey(){return"database"}get paramsFunc(){return e=>{var{id:t}=e;return(0,o.default)(e,["id"])}}create(e,t){var a=this;return(0,s.default)((function*(){return a.submitting(a.client.create(e,t))}))()}deleteDatabase(e){var t=this;return(0,s.default)((function*(){var{id:a,name:r}=e;return t.submitting(t.client.delete(a,r))}))()}},(0,u.default)(l.prototype,"create",[f.action],(0,i.default)(l.prototype,"create"),l.prototype),(0,u.default)(l.prototype,"deleteDatabase",[f.action],(0,i.default)(l.prototype,"deleteDatabase"),l.prototype),l);t.InstancesDatabasesStore=m;var p=new m;t.default=p},1266:function(e,t,a){var r=a(3927);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:undefined,insertInto:void 0};a(76)(r,n);r.locals&&(e.exports=r.locals)},1267:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.getMysqlNodes=t.getRabbitMQNodes=t.getMemcacheNodes=t.defaultGetNodes=void 0;var l=n(a(62)),i=n(a(28)),s=n(a(101)),o=n(a(52)),u=a(1128),d=a(47),c=n(a(1310)),f=function(){var e=(0,o.default)((function*(){var e=yield(0,u.fetchPrometheus)((0,d.get)(METRICDICT,"physicalNode.systemLoad.url[0]"),"current"),{data:{result:t=[]}}=e;return 0===t.length?[{metric:{instance:""}}]:(0,l.default)(t).call(t,(e=>({metric:{instance:e.metric.instance}})))}));return function(){return e.apply(this,arguments)}}();t.defaultGetNodes=f;var m=function(){var e=(0,o.default)((function*(){var e=yield(0,u.fetchPrometheus)((0,d.get)(METRICDICT,"memcacheService.currentConnections.url[0]"),"current"),{data:{result:t=[]}}=e;return 0===t.length?[{metric:{instance:""}}]:(0,l.default)(t).call(t,(e=>({metric:{instance:e.metric.instance}})))}));return function(){return e.apply(this,arguments)}}();t.getMemcacheNodes=m;var p=function(){var e=(0,o.default)((function*(){var e=yield(0,u.fetchPrometheus)((0,d.get)(METRICDICT,"rabbitMQService.serviceStatus.url[0]"),"current"),{data:{result:t=[]}}=e;if(0===t.length)return[{metric:{instance:""}}];var a=[];return(0,i.default)(t).call(t,(e=>{var t={metric:{instance:e.metric.instance}};(0,s.default)(a).call(a,(e=>(0,c.default)(e,t)))||a.push(t)})),a}));return function(){return e.apply(this,arguments)}}();t.getRabbitMQNodes=p;var v=function(){var e=(0,o.default)((function*(){var e=yield(0,u.fetchPrometheus)((0,d.get)(METRICDICT,"mysqlService.runningTime.url[0]"),"current"),{data:{result:t=[]}}=e;return 0===t.length?[{metric:{instance:""}}]:(0,l.default)(t).call(t,(e=>({metric:{instance:e.metric.instance}})))}));return function(){return e.apply(this,arguments)}}();t.getMysqlNodes=v},1268:function(e,a,r){"use strict";var n=r(35),l=r(44),i=r(33),s=r(25),o=r(28),u=r(45),d=r(46),c=r(19),f=r(21);c(a,"__esModule",{value:!0}),a.cephStatusColorMap=a.cephStatusMap=a.fillEmptyMetrics=a.timestampify=a.timeAliasReg=a.isSameDay=a.stopAutoRefresh=a.startAutoRefresh=a.getColorByName=a.getZeroValues=a.getTimesData=a.getLastMonitoringData=a.getXAxisTickFormatter=a.getAreaChartOps=a.getChartData=a.getFormatTime=a.getValueByUnit=a.getSuitableValue=a.getSuitableUnit=void 0;var m=f(r(71)),p=f(r(37)),v=f(r(320)),h=f(r(82)),g=f(r(395)),y=f(r(28)),b=f(r(221)),_=f(r(168)),x=f(r(62)),C=f(r(1184)),S=f(r(219)),w=f(r(546)),E=f(r(571)),D=f(r(3937)),I=f(r(1252)),P=f(r(516)),T=r(47),N=r(319),k=r(527);function M(e,t){var a=n(e);if(l){var r=l(e);t&&(r=i(r).call(r,(function(t){return s(e,t).enumerable}))),a.push.apply(a,r)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)o(a=M(Object(r),!0)).call(a,(function(t){(0,p.default)(e,t,r[t])}));else if(u)d(e,u(r));else{var n;o(n=M(Object(r))).call(n,(function(t){c(e,t,s(r,t))}))}}return e}var F={second:{conditions:[.01,0],units:["s","ms"]},cpu:{conditions:[.1,0],units:["core","m"]},memory:{conditions:[1024**4,1024**3,1048576,1024,0],units:["TiB","GiB","MiB","KiB","Bytes"]},disk:{conditions:[1e3**4,1e3**3,1e6,1e3,0],units:["TB","GB","MB","KB","Bytes"]},throughput:{conditions:[1e3**4,1e3**3,1e6,1e3,0],units:["TB/s","GB/s","MB/s","KB/s","B/s"]},traffic:{conditions:[1e3**4,1e3**3,1e6,1e3,0],units:["TB/s","GB/s","MB/s","KB/s","B/s"]},bandwidth:{conditions:[131072,128,0],units:["Mbps","Kbps","bps"]}},O=(e,t)=>{var a,r=F[t];if((0,T.isEmpty)(r))return"";var n=(0,T.isArray)(e)?e:[[0,Number(e)]],l=(0,T.last)(r.units);return(0,v.default)(a=r.conditions).call(a,((e,t)=>{var a=(0,v.default)(n).call(n,(t=>(((0,T.isArray)(t)?(0,T.get)(t,"[1]"):Number(t))||0)>=e));return a&&(l=r.units[t]),a})),l};a.getSuitableUnit=O;a.getSuitableValue=function(e){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(0,T.isNumber)(e)&&!(0,T.isString)(e)||(0,T.isNaN)(Number(e)))return n;var l=O(e,r),i=l?" ".concat(t(l)):"",s=K(e,l||r);return(0,h.default)(a="".concat(s)).call(a,i)};var K=(e,t)=>{var a=(0,g.default)(e);switch(t){default:break;case"":case"default":return a;case"iops":return Math.round(a);case"%":a*=100;break;case"m":if((a*=1e3)<1)return 0;break;case"KiB":a/=1024;break;case"MiB":a/=1048576;break;case"GiB":a/=1024**3;break;case"TiB":a/=1024**4;break;case"Bytes":case"B":case"B/s":break;case"KB":case"KB/s":a/=1e3;break;case"MB":case"MB/s":a/=1e6;break;case"GB":case"GB/s":a/=1e3**3;break;case"TB":case"TB/s":a/=1e3**4;break;case"bps":a*=8;break;case"Kbps":a=8*a/1024;break;case"Mbps":a=8*a/1024/1024;break;case"ms":a*=1e3}return 0===Number(a)?0:Number(a.toFixed(2))};a.getValueByUnit=K;var A=e=>(0,k.getStrFromTimestamp)(e).replace(/:00$/g,"");a.getFormatTime=A;var R=e=>{var t,{type:a,unit:r,xKey:n="time",legend:l=[],valuesData:i=[],xFormatter:s}=e,o={};(0,y.default)(i).call(i,((e,t)=>{(0,y.default)(e).call(e,(e=>{var n=(0,b.default)((0,T.get)(e,[0],0),10),i=(0,T.get)(e,[1]),s=(0,T.get)(l,[t]);n&&!o[n]&&(o[n]=(0,_.default)(l).call(l,((e,t)=>(e[t]||(e[t]=null),e)),{})),s&&o[n]&&(o[n][s]="-1"===i?null:K(i,(0,T.isUndefined)(r)?a:r))}))}));var u=e=>"time"===n?A(e):e;return(0,x.default)(t=(0,C.default)(o)).call(t,(e=>{var[t,a]=e;return L({[n]:(s||u)(t)},a)}))};a.getChartData=R;a.getAreaChartOps=e=>{var{type:t,title:a,unitType:r,xKey:n="time",legend:l=[],data:i=[],xFormatter:s}=e,o=(0,m.default)(e,["type","title","unitType","xKey","legend","data","xFormatter"]),u=(0,T.isArray)(i)?i:[],d=(0,x.default)(u).call(u,(e=>(0,T.get)(e,"values")||[])),c=r?O((0,T.flatten)(d),r):o.unit,f=R({type:t,unit:c,xKey:n,legend:l,valuesData:d,xFormatter:s}),p="time"===n?U(f):e=>e;return L(L({},o),{},{title:a,unit:c,xAxisTickFormatter:p,data:f})};var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=(0,x.default)(e).call(e,(e=>{var{time:t}=e;return+new Date(t)})),r=(0,T.min)(a),n=(0,T.max)(a);return n-r>864e4?e=>(0,k.getLocalTimeStr)(e,t("Do HH:mm")):e=>(0,k.getLocalTimeStr)(e,"HH:mm:ss")};a.getXAxisTickFormatter=U;a.getLastMonitoringData=e=>{var t,a={};return(0,y.default)(t=(0,C.default)(e)).call(t,(e=>{var[t,r]=e,n=(0,T.get)(r,"data.result[0].values",[])||[],l=(0,T.isEmpty)(n)?(0,T.get)(r,"data.result[0].value",[])||[]:(0,T.last)(n);(0,T.set)(a,"[".concat(t,"].value"),l)})),a};a.getTimesData=e=>{var t=[];return(0,y.default)(e).call(e,(e=>{var a=(0,T.get)(e,"values")||[];(0,y.default)(a).call(a,(e=>{var a=(0,T.get)(e,"[0]",0);(0,S.default)(t).call(t,a)||t.push(a)}))})),(0,w.default)(t).call(t)};a.getZeroValues=()=>{for(var e=[],t=(0,b.default)((0,E.default)()/1e3,10)-6e3,a=0;a<10;a++)e[a]=[t,0],t+=600;return e};a.getColorByName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#fff";return N.COLORS_MAP[e]||e};a.startAutoRefresh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=L({method:"fetchData",interval:5e3,leading:!0},t);if(e&&e[a.method]){var r=e[a.method];a.leading&&r({autoRefresh:!0}),e.timer=(0,D.default)((()=>{r({autoRefresh:!0})}),a.interval)}};a.stopAutoRefresh=e=>{e&&e.timer&&(clearInterval(e.timer),e.timer=null)};a.isSameDay=(e,t)=>Math.floor(e/864e5)===Math.floor(t/864e5);var j=/(\d+)(\w+)/;a.timeAliasReg=j;a.timestampify=e=>{var[,t=0,a]=e.match(j)||[];return Number(t)*(N.MILLISECOND_IN_TIME_UNIT[a]||0)};a.fillEmptyMetrics=(e,t)=>{var a;if(!e.times||!e.start||!e.end)return t;var r=e=>String(e).replace(/\..*$/,""),n=Math.floor((e.end-e.start)/e.times),l=e.times+1;return(0,y.default)(a=(0,I.default)(t)).call(a,(t=>{var a=(0,T.get)(t,"data.result");(0,T.isEmpty)(a)||(0,y.default)(a).call(a,(t=>{var a=(0,P.default)(t)||[],i=(0,_.default)(a).call(a,((e,t)=>L(L({},e),{},{[r(t[0])]:t[1]})),{});if(a.length<l){for(var s=[],o=0;o<l;o++){var u=r(e.start+o*n);s.push([u,i[u]||"0"])}t.values=s}}))})),t};var z={0:t("Healthy"),1:t("Warning"),2:t("Error")};a.cephStatusMap=z;a.cephStatusColorMap={0:"#379738",1:"#FAAD14",2:"#D93126"}},1269:function(e,t,a){var r=a(3956);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:undefined,insertInto:void 0};a(76)(r,n);r.locals&&(e.exports=r.locals)},1270:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=t.BackupsStore=void 0;var l,i=n(a(25)),s=n(a(52)),o=n(a(55)),u=n(a(54)),d=n(a(49)),c=a(32),f=(l=class extends u.default{get client(){return d.default.trove.backups}create(e){var t=this;return(0,s.default)((function*(){return t.client.create(e)}))()}delete(e,t){var a=this;return(0,s.default)((function*(){var{params:r}=e;return a.client.delete(r,t)}))()}},(0,o.default)(l.prototype,"create",[c.action],(0,i.default)(l.prototype,"create"),l.prototype),(0,o.default)(l.prototype,"delete",[c.action],(0,i.default)(l.prototype,"delete"),l.prototype),l);t.BackupsStore=f;var m=new f;t.default=m},1271:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=t.ConfigurationsStore=void 0;var l,i=n(a(25)),s=n(a(52)),o=n(a(55)),u=n(a(54)),d=n(a(49)),c=a(32),f=(l=class extends u.default{get client(){return d.default.trove.configurations}create(e){var t=this;return(0,s.default)((function*(){return t.client.create(e)}))()}delete(e,t){var a=this;return(0,s.default)((function*(){var{params:r}=e;return a.client.delete(r,t)}))()}},(0,o.default)(l.prototype,"create",[c.action],(0,i.default)(l.prototype,"create"),l.prototype),(0,o.default)(l.prototype,"delete",[c.action],(0,i.default)(l.prototype,"delete"),l.prototype),l);t.ConfigurationsStore=f;var m=new f;t.default=m},1272:function(e,t,a){"use strict";var r=a(35),n=a(44),l=a(33),i=a(25),s=a(28),o=a(45),u=a(46),d=a(19),c=a(21);d(t,"__esModule",{value:!0}),t.default=t.InstancesUsersStore=void 0;var f,m=c(a(62)),p=c(a(33)),v=c(a(101)),h=c(a(25)),g=c(a(37)),y=c(a(52)),b=c(a(71)),_=c(a(55)),x=c(a(54)),C=c(a(49)),S=a(32);function w(e,t){var a=r(e);if(n){var s=n(e);t&&(s=l(s).call(s,(function(t){return i(e,t).enumerable}))),a.push.apply(a,s)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)s(a=w(Object(r),!0)).call(a,(function(t){(0,g.default)(e,t,r[t])}));else if(o)u(e,o(r));else{var n;s(n=w(Object(r))).call(n,(function(t){d(e,t,i(r,t))}))}}return e}var D=(f=class extends x.default{get client(){return C.default.trove.instances.users}get databaseClient(){return C.default.trove.instances.databases}get instanceClient(){return C.default.trove.instances}get isSubResource(){return!0}get responseKey(){return"user"}get paramsFunc(){return e=>{var{id:t}=e;return(0,b.default)(e,["id"])}}listDidFetch(e,t,a){var r=this;return(0,y.default)((function*(){if(0===e.length)return e;var{id:t}=a,{databases:n=[]}=yield r.databaseClient.list(t);return(0,m.default)(e).call(e,(e=>{var t,a;return E(E({},e),{},{databases:(0,m.default)(t=(0,p.default)(a=e.databases||[]).call(a,(e=>(0,v.default)(n).call(n,(t=>t.name===e.name))))).call(t,(e=>e.name))})}))}))()}create(e,t){var a=this;return(0,y.default)((function*(){return a.submitting(a.client.create(e,t))}))()}deleteUser(e){var t=this;return(0,y.default)((function*(){var{id:a,name:r}=e;return t.submitting(t.client.delete(a,r))}))()}grantDatabaseAccess(e){var t=this;return(0,y.default)((function*(){var{id:a,name:r,data:n}=e;return t.submitting(t.instanceClient.grantDatabase(a,r,n))}))()}},(0,_.default)(f.prototype,"create",[S.action],(0,h.default)(f.prototype,"create"),f.prototype),(0,_.default)(f.prototype,"deleteUser",[S.action],(0,h.default)(f.prototype,"deleteUser"),f.prototype),(0,_.default)(f.prototype,"grantDatabaseAccess",[S.action],(0,h.default)(f.prototype,"grantDatabaseAccess"),f.prototype),f);t.InstancesUsersStore=D;var I=new D;t.default=I},1329:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.createFetchPrometheusClient=function(e){var{requestType:t,metricKey:a}=e,r=(0,d.get)(METRICDICT,a);return function(){var e=(0,u.default)((function*(e){var a,{params:n={},currentRange:s,interval:o}=e,u=(0,l.default)(a=r.url).call(a,((e,a)=>{var l=(r.finalFormatFunc||[])[a]||f.baseReturnFunc,i=(r.baseParams||[])[a]||{},u=(0,f.getRequestUrl)(e,n,l,i);return(0,f.fetchPrometheus)(u,t,s,o)}));return i.default.all(u)}));return function(t){return e.apply(this,arguments)}}()},t.createDataHandler=function(e){var{formatDataFn:t,typeKey:a,deviceKey:r,modifyKeys:n}=e;return e=>{var i=t(e,a,r,n),u=(0,d.clone)(i),f="",m=[];if((0,d.isArray)(i)&&0!==i.length&&i[0].device){var p,v=(new c.default).createView().source(i).transform({type:"partition",groupBy:["device"]});f=(m=(0,l.default)(p=(0,s.default)(v.rows)).call(p,(e=>(0,o.default)(e).call(e,1,e.length))))[0]}return{retData:u,device:f,devices:m}}};var l=n(a(62)),i=n(a(65)),s=n(a(35)),o=n(a(195)),u=n(a(52)),d=a(47),c=n(a(3929)),f=a(1128)},1330:function(e,t,a){var r=a(3930);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:undefined,insertInto:void 0};a(76)(r,n);r.locals&&(e.exports=r.locals)},1331:function(e,t,a){"use strict";a(19)(t,"__esModule",{value:!0}),t.default=void 0;var r=a(0),n=a(1128),l=(0,r.createContext)({interval:10,range:(0,n.defaultOneHourAgo)(),node:{metric:{hostname:""}}});t.default=l},1332:function(e,a,r){"use strict";var n=r(35),l=r(44),i=r(33),s=r(25),o=r(28),u=r(45),d=r(46),c=r(19),f=r(21);c(a,"__esModule",{value:!0}),c(a,"policyType",{enumerable:!0,get:function(){return v.default}}),a.InstanceStatus=void 0;var m=f(r(37)),p=r(1120),v=f(r(1218));function h(e,t){var a=n(e);if(l){var r=l(e);t&&(r=i(r).call(r,(function(t){return s(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)o(a=h(Object(r),!0)).call(a,(function(t){(0,m.default)(e,t,r[t])}));else if(u)d(e,u(r));else{var n;o(n=h(Object(r))).call(n,(function(t){c(e,t,s(r,t))}))}}return e}var y=g(g({},p.instanceStatus),{},{BUILD:t("Building"),ACTIVE:t("Active"),ERROR:t("Error"),DELETE:t("Delete"),MIGRATE:t("Migrate"),RESIZE:t("Resize"),REBOOT:t("Reboot"),PROMOTE:t("Promote"),EJECT:t("Eject")});a.InstanceStatus=y},1512:function(e,t,a){"use strict";var r=a(156),n=a(19),l=a(25),i=a(21);n(t,"__esModule",{value:!0}),t.default=void 0,a(1117);var s=i(a(1118));a(1115);var o=i(a(1116)),u=i(a(385)),d=i(a(71)),c=i(a(62)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var r={},i=n&&l;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?l(e,s):null;o&&(o.get||o.set)?n(r,s,o):r[s]=e[s]}r.default=e,a&&a.set(e,r);return r}(a(0)),m=a(47),p=(a(167),a(1227)),v=i(a(1266)),h=i(a(1513)),g=i(a(3931)),y=i(a(1331));function b(e){if("function"!=typeof r)return null;var t=new r,a=new r;return(b=function(e){return e?a:t})(e)}var _=e=>{var{baseTopCardProps:t,baseChartProps:a,topCardList:r,chartCardList:n}=e,l=(0,f.useContext)(y.default);return f.default.createElement(s.default,{gutter:[16,16]},0!==r.length&&f.default.createElement(o.default,{span:24},f.default.createElement(s.default,{gutter:[16,16],style:{width:"100%"}},(0,c.default)(r).call(r,(e=>{var a,r;if(e.hidden)return null;var n=(0,m.merge)({},t,e),{span:i,fetchDataParams:s={}}=n,c=(0,d.default)(n,["span","fetchDataParams"]),p={key:c.title};i?p.span=i:p.flex=1;var v,{params:g={}}=s,y={currentRange:l.range,interval:l.interval,params:g};if(null!==(a=l.node)&&void 0!==a&&a.metric.hostname)y.params.hostname=null===(v=l.node)||void 0===v?void 0:v.metric.hostname;else if(null!==(r=l.node)&&void 0!==r&&r.metric.instance){var b;y.params.instance=null===(b=l.node)||void 0===b?void 0:b.metric.instance}return f.default.createElement(o.default,p,f.default.createElement(h.default,(0,u.default)({},c,{fetchDataParams:y})))})))),0!==n.length&&f.default.createElement(o.default,{span:24}," ",f.default.createElement(s.default,{gutter:[16,16]},(0,c.default)(n).call(n,(e=>{var t,r,n=(0,m.merge)({},a,e),{span:i,fetchDataParams:s={}}=n,c=(0,d.default)(n,["span","fetchDataParams"]),p={key:c.title};i?p.span=i:p.flex=1;var v,{params:h={}}=s,y={currentRange:l.range,interval:l.interval,params:h};if(null!==(t=l.node)&&void 0!==t&&t.metric.hostname)y.params.hostname=null===(v=l.node)||void 0===v?void 0:v.metric.hostname;else if(null!==(r=l.node)&&void 0!==r&&r.metric.instance){var b;y.params.instance=null===(b=l.node)||void 0===b?void 0:b.metric.instance}return f.default.createElement(o.default,p,f.default.createElement(g.default,(0,u.default)({},c,{fetchDataParams:y})))})))))};_.defaultProps={baseTopCardProps:{createFetchParams:{requestType:"current"},handleDataParams:{formatDataFn:p.handleResponses},renderContent:e=>{var{data:t}=e;return f.default.createElement("div",{className:v.default["top-content"]},(0,m.get)(t,"[0].y",0))}},baseChartProps:{span:12,createFetchParams:{requestType:"range"},handleDataParams:{formatDataFn:p.handleResponses},chartProps:{height:300,scale:{y:{nice:!0}}}},topCardList:[],chartCardList:[]};var x=_;t.default=x},1513:function(e,t,a){"use strict";var r=a(156),n=a(19),l=a(25),i=a(21);n(t,"__esModule",{value:!0}),t.default=t.PrometheusContext=void 0,a(1146);var s=i(a(1147));a(519);var o=i(a(388)),u=i(a(52)),d=i(a(33)),c=i(a(62)),f=(a(167),function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var r={},i=n&&l;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?l(e,s):null;o&&(o.get||o.set)?n(r,s,o):r[s]=e[s]}r.default=e,a&&a.set(e,r);return r}(a(0))),m=i(a(3928)),p=a(1329),v=i(a(1330));function h(e){if("function"!=typeof r)return null;var t=new r,a=new r;return(h=function(e){return e?a:t})(e)}var g=(0,f.createContext)({data:[],device:"",devices:[]});function y(e,t,a){return t&&0!==a.length?(0,d.default)(e).call(e,(e=>e.device===t)):e}t.PrometheusContext=g;var b=e=>{var{createFetchParams:t,handleDataParams:a,fetchDataParams:r,title:n,visibleHeight:l,extra:i,renderContent:h}=e,[b,_]=(0,f.useState)([]),[x,C]=(0,f.useState)([]),[S,w]=(0,f.useState)(""),[E,D]=(0,f.useState)([]),[I,P]=(0,f.useState)(!0),T=(0,p.createFetchPrometheusClient)(t),N=(0,p.createDataHandler)(a),k={data:x,device:S,devices:E,modifyKeys:a.modifyKeys};(0,f.useEffect)((()=>{(0,u.default)((function*(){P(!0);var e=yield T(r),{retData:t,device:a,devices:n}=N(e);_(t),w(a),D(n);var l=y(t,a,n);C(l),P(!1)}))()}),[]);var M=f.default.createElement(f.default.Fragment,null,!I&&S&&0!==E.length&&f.default.createElement(o.default,{defaultValue:S,style:{width:150,marginRight:16},options:(0,c.default)(E).call(E,(e=>({label:e,value:e}))),onChange:e=>{P(!0);var t=y(b,e,E);w(e),C(t),P(!1)}}),i&&i({initData:b,chartData:x,device:S,devices:E,modifyKeys:a.modifyKeys,filterChartData:e=>{P(!0);var t=(0,d.default)(b).call(b,e);C(t),P(!1)}}));return f.default.createElement(g.Provider,{value:k},f.default.createElement(s.default,{className:v.default["remove-extra-padding"],bodyStyle:{minHeight:l+48},title:n,extra:M,loading:I},f.default.createElement(m.default,{style:{width:"100%",height:l}},(e=>e?f.default.createElement(g.Consumer,null,(e=>h(e))):null))))};b.defaultProps={visibleHeight:100};var _=b;t.default=_},1514:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(168)),i=n(a(37)),s=a(1214),o=n(a(0)),u=n(a(16));class d extends o.default.Component{render(){var{data:e,legendFontSize:t,legendOffsetX:a,middleFontSize:r}=this.props;return(0,s.registerShape)("interval","sliceShape",{draw(e,t){var{points:a}=e,r=[];return r.push(["M",a[0].x,a[0].y]),r.push(["L",a[1].x,a[1].y-.01]),r.push(["L",a[2].x,a[2].y-.01]),r.push(["L",a[3].x,a[3].y]),r.push("Z"),r=this.parsePath(r),t.addShape("path",{attrs:{fill:e.color,path:r}})}}),o.default.createElement(s.Chart,{data:e,autoFit:!0,padding:"auto",appendPadding:[0,20,0,0]},o.default.createElement(s.Coordinate,{type:"theta",radius:.8,innerRadius:.75}),o.default.createElement(s.Axis,{visible:!1}),o.default.createElement(s.Tooltip,{showTitle:!1}),o.default.createElement(s.Interval,{adjust:"stack",position:"value",color:"type",shape:"sliceShape"}),o.default.createElement(s.Annotation.Text,{position:["50%","50%"],content:(0,l.default)(e).call(e,((e,t)=>e+t.value),0),style:{lineHeight:240,fontSize:r,fill:"#262626",textAlign:"center"}}),o.default.createElement(s.Legend,{position:"right",offsetX:a,itemName:{style:{fontSize:t}}}),o.default.createElement(s.Interaction,{type:"element-single-selected"}))}}t.default=d,(0,i.default)(d,"propTypes",{data:u.default.array,legendFontSize:u.default.number,legendOffsetX:u.default.number,middleFontSize:u.default.number}),(0,i.default)(d,"defaultProps",{legendFontSize:16,legendOffsetX:-40,middleFontSize:30})},1515:function(e,t,a){var r=a(3948);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:undefined,insertInto:void 0};a(76)(r,n);r.locals&&(e.exports=r.locals)},1516:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.StepCreate=void 0;var i=l(r(62)),s=l(r(65)),o=l(r(37)),u=r(1113),d=r(382),c=l(r(1173)),f=l(r(3965)),m=l(r(3966)),p=l(r(3967)),v=l(r(3968));class h extends u.StepAction{constructor(){super(...arguments),(0,o.default)(this,"onSubmit",(e=>{var t,{selectedRowKeys:a=[]}=e.network;return(0,i.default)(a).call(a,(e=>({"net-id":e}))),t=[{"net-id":a[0]}],this.store.create({instance:{datastore:{type:e.datastore_type,version:e.datastore_version},name:e.instance_name,flavorRef:e.flavor.selectedRowKeys[0],volume:{size:e.size},availability_zone:e.zone,nics:t,locality:e.locality,configuration:e.configurationGroup,databases:[{character_set:"utf8",collate:"utf8_general_ci",name:e.initialDatabases}],users:[{databases:[{name:e.initialDatabases}],name:e.initialAdminUser,password:e.password}]}})}))}init(){this.store=c.default}static allowed(){return s.default.resolve(!0)}get name(){return t("Create Instance")}get listUrl(){return this.getRoutePath("databaseInstances")}get hasConfirmStep(){return!1}get steps(){return[{title:t("Details *"),component:f.default},{title:t("Networking *"),component:m.default},{title:t("Initialize Databases"),component:p.default},{title:t("Advanced"),component:v.default}]}}a.StepCreate=h,(0,o.default)(h,"id","create-instance"),(0,o.default)(h,"title",t("Create Instance")),(0,o.default)(h,"path","/database/instances/create"),(0,o.default)(h,"policy","instance:create");var g=(0,d.inject)("rootStore")((0,d.observer)(h));a.default=g},3924:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(389)),i=n(a(3925)),s=e=>(0,l.default)(i.default,e);t.default=s},3925:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(1130)),i=n(a(525)),s=n(a(3926)),o=n(a(3940)),u=n(a(3944)),d=n(a(3949)),c=n(a(3955)),f="/monitor-center",m=[{path:f,component:l.default,routes:[{path:"".concat(f,"/overview-admin"),component:c.default,exact:!0},{path:"".concat(f,"/physical-node-admin"),component:s.default,exact:!0},{path:"".concat(f,"/storage-cluster-admin"),component:o.default,exact:!0},{path:"".concat(f,"/openstack-service-admin"),component:u.default,exact:!0},{path:"".concat(f,"/other-service-admin"),component:d.default,exact:!0},{path:"*",component:i.default}]}];t.default=m},3926:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.chartConfig=a.chartCardList=a.topCardList=void 0,r(1139);var i=l(r(1140)),s=l(r(221)),o=l(r(28)),u=l(r(395)),d=l(r(62)),c=l(r(82)),f=l(r(0)),m=r(47),p=l(r(115)),v=(r(167),l(r(1182))),h=r(1268),g=r(1128),y=r(135),b=l(r(1266)),_=[{title:t("CPU Cores"),span:5,createFetchParams:{metricKey:"physicalNode.cpuCores"},renderContent:e=>f.default.createElement("div",{className:b.default["top-content"]},(0,m.get)(e.data,"length",0))},{title:t("Total Ram"),span:5,createFetchParams:{metricKey:"physicalNode.totalMem"},renderContent:e=>f.default.createElement("div",{className:b.default["top-content"]},(0,h.getSuitableValue)((0,m.get)(e.data[0],"y",0),"memory"))},{title:t("System Running Time"),span:5,createFetchParams:{metricKey:"physicalNode.systemRunningTime"},renderContent:e=>f.default.createElement("div",{className:b.default["top-content"]},(0,y.formatUsedTime)(1e3*((0,p.default)().unix()-(0,s.default)((0,m.get)(e.data[0],"y",(0,p.default)().unix()),10))))},{title:t("File System Free Space"),span:9,createFetchParams:{metricKey:"physicalNode.fileSystemFreeSpace"},handleDataParams:{formatDataFn:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var[r,n,l]=t,[i,s]=r,{data:{result:d}={result:[]}}=i,c=[];return(0,o.default)(d).call(d,((e,t)=>{c.push({mountpoint:(0,m.get)(e,"metric.".concat(l))+(0,m.get)(e,"metric.".concat(n)),avail:(0,u.default)((0,m.get)(e,"value[1]",0)),total:(0,u.default)((0,m.get)(s,"data.result[".concat(t,"].value[1]"),0))})})),c},typeKey:"mountpoint",deviceKey:"device"},renderContent:e=>{var t;return f.default.createElement("div",{style:{height:100,overflow:"auto"}},(0,d.default)(t=e.data||[]).call(t,((e,t)=>{var a,r=(0,y.computePercentage)(e.avail,e.total)>80?"#FAAD14":"#1890FF";return f.default.createElement("div",{key:e.mountpoint,style:{marginTop:t>0?16:0}},f.default.createElement("div",null,f.default.createElement("div",{style:{float:"left"}},e.mountpoint),f.default.createElement("div",{style:{float:"right"}},(0,c.default)(a="".concat((0,y.formatSize)((0,s.default)(e.avail,10))," / ")).call(a,(0,y.formatSize)((0,s.default)(e.total,10))))),f.default.createElement(i.default,{style:{width:"95%"},percent:Number(((0,s.default)(e.avail,10)/(0,s.default)(e.total,10)*100).toFixed(3)),strokeColor:r}))})))}}];a.topCardList=_;var x=[{title:t("CPU Usage(%)"),createFetchParams:{metricKey:"physicalNode.cpuUsage"},handleDataParams:{typeKey:"mode"},chartProps:{chartType:g.ChartType.MULTILINE}},{title:t("Memory Usage"),createFetchParams:{metricKey:"physicalNode.memUsage"},handleDataParams:{modifyKeys:[t("Used"),t("Free")]},chartProps:{scale:{y:{formatter:e=>(0,h.getSuitableValue)(e,"memory",0)}},chartType:g.ChartType.MULTILINE}},{title:t("DISK IOPS"),createFetchParams:{metricKey:"physicalNode.diskIOPS"},handleDataParams:{modifyKeys:[t("read"),t("write")],deviceKey:"device"},chartProps:{chartType:g.ChartType.MULTILINEDEVICES}},{title:t("DISK Usage(%)"),createFetchParams:{metricKey:"physicalNode.diskUsage"},handleDataParams:{typeKey:"hostname",deviceKey:"device"},chartProps:{scale:{y:{alias:t("DISK Usage(%)")}},chartType:g.ChartType.ONELINEDEVICES}},{title:t("System Load"),span:24,createFetchParams:{metricKey:"physicalNode.systemLoad"},handleDataParams:{typeKey:"__name__"},chartProps:{chartType:g.ChartType.MULTILINE}},{title:t("Network Traffic"),span:12,createFetchParams:{metricKey:"physicalNode.networkTraffic"},handleDataParams:{modifyKeys:[t("receive"),t("transmit")],deviceKey:"device"},chartProps:{chartType:g.ChartType.MULTILINEDEVICES,scale:{y:{formatter:e=>(0,h.getSuitableValue)(e,"traffic",0)}}}},{title:t("TCP Connections"),span:12,createFetchParams:{metricKey:"physicalNode.tcpConnections"},chartProps:{scale:{y:{alias:t("TCP Connections")}},chartType:g.ChartType.ONELINE}},{title:t("Network Errors"),span:12,createFetchParams:{metricKey:"physicalNode.networkErrors"},handleDataParams:{typeKey:"__name__",deviceKey:"device"},chartProps:{scale:{y:{alias:t("Network Errors")}},chartType:g.ChartType.ONELINE}},{title:t("Network Dropped Packets"),span:12,createFetchParams:{metricKey:"physicalNode.networkDroppedPackets"},handleDataParams:{modifyKeys:[t("receive"),t("transmit")],deviceKey:"device"},chartProps:{scale:{y:{alias:t("Network Dropped Packets")}},chartType:g.ChartType.MULTILINEDEVICES}}];a.chartCardList=x;var C={chartCardList:x,topCardList:_};a.chartConfig=C;var S=()=>f.default.createElement(v.default,{chartConfig:C});a.default=S},3927:function(e,t,a){(t=e.exports=a(75)(!1)).push([e.i,".styles__top-content--qpOa2 {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  height: 120px;\n  font-weight: 500;\n  font-size: 24px;\n}\n",""]),t.locals={"top-content":"styles__top-content--qpOa2"}},3928:function(e,t,a){"use strict";var r=a(156),n=a(19),l=a(25),i=a(21);n(t,"__esModule",{value:!0}),t.default=void 0;var s,o=i(a(65)),u=i(a(28)),d=i(a(1315)),c=i(a(62)),f=i(a(385)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var r={},i=n&&l;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?l(e,s):null;o&&(o.get||o.set)?n(r,s,o):r[s]=e[s]}r.default=e,a&&a.set(e,r);return r}(a(0));function p(e){if("function"!=typeof r)return null;var t=new r,a=new r;return(p=function(e){return e?a:t})(e)}var v=(0,a(382).observer)(s=class extends m.Component{constructor(e){super(e),this.state={visible:!window.IntersectionObserver},this.io=null,this.container=null}componentDidMount(){(window.IntersectionObserver?o.default.resolve():a.e(1).then(a.t.bind(null,4113,7))).then((()=>{this.io=new window.IntersectionObserver((e=>{(0,u.default)(e).call(e,(e=>{this.setState({visible:e.isIntersecting})}))}),{}),this.io.observe(this.container)}))}componentWillUnmount(){this.io&&this.io.disconnect()}render(){var e;return m.default.createElement("div",(0,f.default)({ref:e=>{this.container=e}},this.props),(0,d.default)(this.props.children)?(0,c.default)(e=this.props.children).call(e,(e=>e(this.state.visible))):this.props.children(this.state.visible))}})||s;t.default=v},3930:function(e,t,a){(t=e.exports=a(75)(!1)).push([e.i,".style__remove-extra-padding--1qIOH .ant-card-extra {\n  padding: 0;\n}\n.style__remove-extra-padding--1qIOH .ant-card-head {\n  border-bottom: none;\n}\n.style__remove-extra-padding--1qIOH .ant-card-body {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.style__remove-extra-padding--1qIOH .ant-card-body .ant-card-loading-content {\n  width: 100%;\n}\n.style__base-content-container--2-qf6 {\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  overflow-y: scroll;\n}\n.style__base-content-container--2-qf6 .style__refresh--sME80 {\n  float: left;\n}\n.style__base-content-container--2-qf6 .style__header--3xQ9T {\n  margin-bottom: 16px;\n}\n",""]),t.locals={"remove-extra-padding":"style__remove-extra-padding--1qIOH","base-content-container":"style__base-content-container--2-qf6",refresh:"style__refresh--sME80",header:"style__header--3xQ9T"}},3931:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=void 0;var i=l(r(385));r(318);var s=l(r(317));r(1236);var o=l(r(1237)),u=l(r(71)),d=l(r(0)),c=r(47),f=(r(167),r(1214)),m=l(r(3932)),p=r(1128),v=r(3933),h=l(r(1513)),g=e=>{var{chartProps:a}=e;return d.default.createElement(h.default,(0,i.default)({},e,{renderContent:t=>{var r,{height:n,scale:l,chartType:i,toolTipProps:s=v.baseToolTipProps}=a,{data:o}=t;switch(l.x=(0,c.merge)({},(0,p.getXScale)(e.fetchDataParams.currentRange),l.x||{}),i){case p.ChartType.ONELINE:case p.ChartType.ONELINEDEVICES:r=v.baseLineProps;break;case p.ChartType.MULTILINE:case p.ChartType.MULTILINEDEVICES:r=v.multilineProps;break;default:r=v.baseLineProps}return d.default.createElement(f.Chart,{autoFit:!0,padding:"auto",data:o,height:n,scale:l},d.default.createElement(f.Line,r),d.default.createElement(f.Tooltip,s))},visibleHeight:e.chartProps.height,extra:()=>{var{title:n,createFetchParams:l,handleDataParams:i,fetchDataParams:c,isModal:f=!1}=e,p={},{params:v={}}=c,{instance:h,hostname:g}=v,y=(0,u.default)(v,["instance","hostname"]);return v&&(h?p.instance=h:g&&(p.hostname=g)),d.default.createElement(d.default.Fragment,null,e.extra&&e.extra(),!f&&d.default.createElement(s.default,{type:"text",icon:d.default.createElement(m.default,null),onClick:()=>{var s;o.default.info({icon:null,content:(s=r(1182).default,d.default.createElement(s,{renderNodeSelect:!1,defaultNode:{metric:p},visibleHeight:e.chartProps.height,chartConfig:{chartCardList:[{title:n,createFetchParams:l,handleDataParams:i,fetchDataParams:{params:y},chartProps:a,span:24,isModal:!0}]}})),width:1200,okText:t("OK")})}}))}}))};a.default=g},3933:function(e,t,a){"use strict";a(19)(t,"__esModule",{value:!0}),t.baseToolTipProps=t.multilineProps=t.baseLineProps=void 0;t.baseLineProps={position:"x*y"};t.multilineProps={position:"x*y",color:"type"};t.baseToolTipProps={showCrosshairs:!0,shared:!0}},3934:function(e,a,r){"use strict";var n=r(156),l=r(19),i=r(25),s=r(21);l(a,"__esModule",{value:!0}),a.default=void 0;var o=s(r(62));r(519);var u=s(r(388)),d=(r(167),function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},n=l&&i;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?i(e,s):null;o&&(o.get||o.set)?l(r,s,o):r[s]=e[s]}r.default=e,a&&a.set(e,r);return r}(r(0))),c=r(1128);function f(e){if("function"!=typeof n)return null;var t=new n,a=new n;return(f=function(e){return e?a:t})(e)}var{Option:m}=u.default,p=e=>{var a=(0,c.getInterval)(e),[r,n]=(0,d.useState)(a[0].value),l=e=>{n(e)};(0,d.useEffect)((()=>{a=(0,c.getInterval)(e),l(a[0].value)}),[e]);return[r,()=>d.default.createElement(d.default.Fragment,null,d.default.createElement("span",{style:{marginLeft:20,fontSize:14,fontWeight:400,color:"rgba(0,0,0,.85)"}},t("Time Interval: ")),d.default.createElement(u.default,{value:r,style:{width:120},onChange:l},(0,o.default)(a).call(a,(e=>d.default.createElement(m,{key:e.value,value:e.value},e.text)))))]};a.default=p},3935:function(e,a,r){"use strict";var n=r(156),l=r(19),i=r(25),s=r(21);l(a,"__esModule",{value:!0}),a.default=void 0,r(538);var o=s(r(399));r(1238);var u=s(r(1239)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var r={},n=l&&i;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?i(e,s):null;o&&(o.get||o.set)?l(r,s,o):r[s]=e[s]}r.default=e,a&&a.set(e,r);return r}(r(0)),c=(r(167),s(r(115))),f=r(1128);function m(e){if("function"!=typeof n)return null;var t=new n,a=new n;return(m=function(e){return e?a:t})(e)}var{RangePicker:p}=u.default;var v=function(e){var[a,r]=(0,d.useState)(0),[n,l]=(0,d.useState)(e),i=e=>{var t=e.target.value;r(t),l((0,f.getRange)(t))},s=e=>{r(4),l(e)};return[n,()=>d.default.createElement(o.default.Group,{value:a,onChange:i,style:{marginLeft:20}},d.default.createElement(o.default.Button,{value:0},t("Last Hour")),d.default.createElement(o.default.Button,{value:1},t("Last Day")),d.default.createElement(o.default.Button,{value:2},t("Last 7 Days")),d.default.createElement(o.default.Button,{value:3},t("Last 2 Weeks")),d.default.createElement(o.default.Button,{value:4,style:{float:"right",padding:0}},d.default.createElement(p,{showTime:{hideDisabledOptions:!0,defaultValue:[(0,c.default)("00:00:00","HH:mm:ss"),(0,c.default)("00:00:00","HH:mm:ss")]},disabledDate:g,disabledTime:h,onChange:s,value:n,bordered:!1,allowClear:!1}))),a,l]};function h(e){var t=(0,c.default)();if(t.isSame(e,"day"))return t.isSame(e,"hour")?t.isSame(e,"minutes")?{disabledHours:()=>y(t.hour()+1,24),disabledMinutes:()=>y(t.minute()+1,60),disabledSeconds:()=>y(t.second()+1,60)}:{disabledHours:()=>y(t.hour()+1,24),disabledMinutes:()=>y(t.minute()+1,60)}:{disabledHours:()=>y(t.hour()+1,24)}}function g(e){return e>(0,c.default)().endOf("day")}function y(e,t){for(var a=[],r=e;r<t;r++)a.push(r);return a}a.default=v},3936:function(e,t,a){"use strict";var r=a(156),n=a(19),l=a(25),i=a(21);n(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a(101)),o=i(a(62));a(519);var u=i(a(388)),d=(a(167),a(47)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var r={},i=n&&l;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?l(e,s):null;o&&(o.get||o.set)?n(r,s,o):r[s]=e[s]}r.default=e,a&&a.set(e,r);return r}(a(0)),f=i(a(1330));function m(e){if("function"!=typeof r)return null;var t=new r,a=new r;return(m=function(e){return e?a:t})(e)}var{Option:p}=u.default,v=e=>{var[t,a]=(0,c.useState)(e),[r,n]=(0,c.useState)([]),l=e=>{var t=i();a((0,s.default)(r).call(r,(a=>a.metric[t]===e)))};return[t,()=>{var e=i();return c.default.createElement("div",{className:f.default.header},c.default.createElement("span",{style:{color:"black",fontSize:14,fontWeight:400}},"Node:"," "),c.default.createElement(u.default,{value:t.metric[e],onChange:l,style:{minWidth:150}},(0,o.default)(r).call(r,(t=>c.default.createElement(p,{key:t.metric[e],value:t.metric[e]},t.metric[e])))))},a,n];function i(){var e="instance";return(0,d.get)(t,"metric.hostname",!1)&&(e="hostname"),e}};t.default=v},3940:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=void 0,r(1139);var i=l(r(1140));r(1117);var s=l(r(1118));r(1115);var o=l(r(1116)),u=l(r(28)),d=l(r(82)),c=l(r(0)),f=r(47),m=(r(167),l(r(1182))),p=r(1268),v=l(r(1514)),h=r(1227),g=r(135),y=r(1128),b=l(r(3941)),_=l(r(3942)),x=()=>{var e=[{title:t("Storage Cluster Status"),span:6,createFetchParams:{metricKey:"storageCluster.cephHealthStatus"},renderContent:e=>{var{data:t}=e,a=(0,f.get)(t,"y",0);return c.default.createElement("div",{className:_.default["top-content"],style:{fontSize:28,fontWeight:600,color:p.cephStatusColorMap[a]}},p.cephStatusMap[a])}},{title:"Monitors",span:9,createFetchParams:{metricKey:"storageCluster.cephMonitorStatus"},handleDataParams:{formatDataFn:function(){var e=(0,h.handleResponses)(...arguments),t=[{type:"down",value:0},{type:"up",value:0}];return(0,u.default)(e).call(e,(e=>{var a=t[e.y].value+1;t[e.y].value=a})),t}},renderContent:e=>{var{data:t}=e;return c.default.createElement("div",null,c.default.createElement("div",{style:{height:120}},c.default.createElement(v.default,{data:t})))}},{title:"PGs",span:9,createFetchParams:{metricKey:"storageCluster.cephPGS"},handleDataParams:{formatDataFn:function(){var e=(0,h.handleResponses)(...arguments);return[{type:"clean",value:(0,f.get)(e,"[0].y",0)},{type:"others",value:(0,f.get)(e,"[1].y",0)}]}},renderContent:e=>{var{data:t}=e;return c.default.createElement("div",null,c.default.createElement("div",{style:{height:120}},c.default.createElement(v.default,{data:t})))}},{title:"OSDs",span:9,createFetchParams:{metricKey:"storageCluster.osdData"},handleDataParams:{formatDataFn:e=>{function t(e){return(0,f.get)(e,"data.result[0].value[1]",0)}var[a,r,n,l]=e;return{inUp:t(a),inDown:t(r),outUp:t(n),outDown:t(l)}}},renderContent:e=>{var{data:a}=e;return c.default.createElement(s.default,{className:_.default.osd},c.default.createElement(o.default,{span:8}),c.default.createElement(o.default,{span:8,style:{fontSize:14,opacity:.8}},t("Up")),c.default.createElement(o.default,{span:8,style:{fontSize:14,opacity:.8}},t("Down")),c.default.createElement(o.default,{span:8,style:{fontSize:14,opacity:.8}},t("In Cluster")),c.default.createElement(o.default,{span:8,style:{fontSize:18}},a.inUp),c.default.createElement(o.default,{span:8,style:{fontSize:18}},a.inDown),c.default.createElement(o.default,{span:8,style:{fontSize:14,opacity:.8}},t("Out Cluster")),c.default.createElement(o.default,{span:8,style:{fontSize:18}},a.outUp),c.default.createElement(o.default,{span:8,style:{fontSize:18}},a.outDown))}},{title:t("Average PGs per OSD"),span:5,createFetchParams:{metricKey:"storageCluster.avgPerOSD"}},{title:t("Storage Cluster Usage"),span:10,createFetchParams:{metricKey:"storageCluster.storageClusterUsage"},renderContent:e=>{var a,r,n,{data:l}=e,o=(0,f.get)(l[0],"y",0),u=(0,f.get)(l[1],"y",0),m=(0,p.getSuitableValue)(o,"disk"),v=(0,p.getSuitableValue)(u,"disk"),h=(0,g.computePercentage)(o,u);return c.default.createElement("div",{className:_.default["top-content"]},c.default.createElement("div",{style:{width:"100%",height:"100%"}},c.default.createElement(s.default,{style:{justifyContent:"flex-end",height:"50%"}},c.default.createElement("span",{style:{fontSize:12,marginRight:32}},(0,d.default)(a=(0,d.default)(r=(0,d.default)(n="".concat(t("Used")," ")).call(n,m," / ")).call(r,t("Total")," ")).call(a,v))),c.default.createElement(s.default,{style:{height:"50%"}},c.default.createElement(i.default,{style:{width:"95%"},percent:h,strokeColor:h>80?"#FAAD14":"#1890FF",showInfo:100!==h}))))}}],a={chartCardList:[{title:t("Storage Pool Capacity Usage"),createFetchParams:{metricKey:"storageCluster.poolCapacityUsage"},handleDataParams:{modifyKeys:[t("used"),t("available")]},chartProps:{chartType:y.ChartType.MULTILINE,scale:{y:{formatter:e=>(0,p.getSuitableValue)(e,"disk",0)}}}},{title:t("Storage Cluster OSD Latency"),createFetchParams:{metricKey:"storageCluster.clusterOSDLatency"},handleDataParams:{modifyKeys:["apply","commit"]},chartProps:{chartType:y.ChartType.MULTILINE}},{title:t("Storage Cluster IOPS"),createFetchParams:{metricKey:"storageCluster.clusterIOPS"},handleDataParams:{modifyKeys:[t("read"),t("write")]},chartProps:{chartType:y.ChartType.MULTILINE}},{title:t("Storage Cluster Bandwidth"),createFetchParams:{metricKey:"storageCluster.clusterBandwidth"},handleDataParams:{modifyKeys:[t("in"),t("out")]},chartProps:{scale:{y:{formatter:e=>(0,p.getSuitableValue)(e,"bandwidth",0)}},chartType:y.ChartType.MULTILINE}}],topCardList:e};return c.default.createElement(m.default,{renderNodeSelect:!1,chartConfig:a},c.default.createElement(b.default,null))};a.default=x},3941:function(e,a,r){"use strict";var n=r(35),l=r(44),i=r(33),s=r(25),o=r(28),u=r(45),d=r(46),c=r(19),f=r(156),m=r(21);c(a,"__esModule",{value:!0}),a.default=void 0;var p=m(r(28)),v=m(r(395)),h=m(r(33)),g=m(r(35)),y=m(r(62)),b=m(r(1194)),_=m(r(91)),x=m(r(221)),C=m(r(65)),S=m(r(71)),w=m(r(52)),E=m(r(37));r(1178);var D=m(r(1179)),I=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var r={},n=c&&s;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?s(e,l):null;i&&(i.get||i.set)?c(r,l,i):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(r(0)),P=r(47),T=(r(167),r(1329)),N=m(r(1442)),k=r(1128),M=r(135),L=m(r(403)),F=m(r(1331));function O(e){if("function"!=typeof f)return null;var t=new f,a=new f;return(O=function(e){return e?a:t})(e)}function K(e,t){var a=n(e);if(l){var r=l(e);t&&(r=i(r).call(r,(function(t){return s(e,t).enumerable}))),a.push.apply(a,r)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)o(a=K(Object(r),!0)).call(a,(function(t){(0,E.default)(e,t,r[t])}));else if(u)d(e,u(r));else{var n;o(n=K(Object(r))).call(n,(function(t){c(e,t,s(r,t))}))}}return e}var{TabPane:R}=D.default,U=()=>{var[e,a]=(0,I.useState)({}),[r,n]=(0,I.useState)([]),[l,i]=(0,I.useState)([]),[s,o]=(0,I.useState)("pool"),[u,d]=(0,I.useState)(!0),c=(0,I.useContext)(F.default),f=(0,T.createFetchPrometheusClient)({requestType:"current",metricKey:"storageCluster.tabs"}),m=(0,T.createDataHandler)({modifyKeys:["pools","osds"],formatDataFn:e=>{var t,a,r=[],[n,l]=e;return(0,p.default)(t=(0,P.get)(n,"data.result",[])).call(t,(e=>{var{metric:t,value:a}=e;r.push(A(A({type:"pool"},t),{},{value:(0,v.default)(a[1])||0}))})),(0,p.default)(a=(0,P.get)(l,"data.result",[])).call(a,(e=>{var{metric:t,value:a}=e;r.push(A(A({type:"osd"},t),{},{value:(0,v.default)(a[1])||0}))})),r}});function E(t){var a,r=(0,h.default)(t).call(t,(e=>e.type===s));(0,p.default)(a=(0,g.default)(e)).call(a,(t=>{r=(0,h.default)(r).call(r,(a=>a[t]===e[t]))})),i(r)}function M(e){return O.apply(this,arguments)}function O(){return(O=(0,w.default)((function*(e){var t,a,r=[...e],n=(0,y.default)(t=(0,P.get)(METRICDICT,"storageCluster.poolTab.url",[])).call(t,(e=>(0,k.fetchPrometheus)(e,"current"))),l=(0,y.default)(a=(0,P.get)(METRICDICT,"storageCluster.osdTab.url",[])).call(a,(e=>(0,k.fetchPrometheus)(e,"current")));function i(e,t,a){var n;(0,p.default)(n=e.data.result).call(n,(e=>{var n,{metric:l,value:i}=e,s=(0,b.default)(r).call(r,(e=>e[a]===l[a]));3===t?r[s].usage=(0,v.default)((0,v.default)(i[1]).toFixed(2)):(0,_.default)(n=["ceph_pool_objects","ceph_pg_total","ceph_pool_max_avail","ceph_osd_weight","ceph_osd_apply_latency_ms","ceph_osd_commit_latency_ms","ceph_osd_stat_bytes"]).call(n,l.__name__)>-1?r[s][l.__name__]=(0,x.default)(i[1],10):r[s][l.__name__]=i[1]}))}var s=yield C.default.all(n);(0,p.default)(s).call(s,((e,t)=>{i(e,t,"pool_id")}));var o=yield C.default.all(l);return(0,p.default)(o).call(o,((e,t)=>{i(e,t,"ceph_daemon")})),r}))).apply(this,arguments)}function K(){return(K=(0,w.default)((function*(){d(!0);var e=yield f({currentRange:c.range,interval:c.interval}),{retData:t}=m(e),a=yield M(t);n(a),E(a),d(!1)}))).apply(this,arguments)}(0,I.useEffect)((()=>{!function(){K.apply(this,arguments)}()}),[]),(0,I.useEffect)((()=>{E(r)}),[s,e]);var U="pool"===s?j:z;return I.default.createElement(I.default.Fragment,null,I.default.createElement(D.default,{defaultActiveKey:"pool",onChange:e=>{a({}),o(e)}},I.default.createElement(R,{tab:"Pools",key:"pool"}),I.default.createElement(R,{tab:"OSDs",key:"osd"})),I.default.createElement(N.default,{isLoading:u,resourceName:"pool"===s?t("Pools"):t("OSDs"),rowKey:"pool"===s?"pool_id":"name",columns:U,data:l,pagination:A(A({},new L.default),{},{total:l.length}),hideRefresh:!0,searchFilters:"pool"===s?[{label:t("Pool Name"),name:"name"}]:[{label:t("Name"),name:"ceph_daemon"}],itemActions:[],onFilterChange:e=>{var{limit:t,page:r,sortKey:n,sortOrder:l}=e,i=(0,S.default)(e,["limit","page","sortKey","sortOrder"]);a(i)}}))};a.default=U;var j=[{title:t("Pool Name"),dataIndex:"name"},{title:t("PG Count"),dataIndex:"ceph_pg_total",isHideable:!0},{title:t("Object Count "),dataIndex:"ceph_pool_objects",isHideable:!0},{title:t("Max Avail"),dataIndex:"ceph_pool_max_avail",render:e=>(0,M.formatSize)(e),isHideable:!0},{title:t("Usage"),dataIndex:"usage",render:e=>"".concat(e,"%"),isHideable:!0}],z=[{title:t("Name"),dataIndex:"ceph_daemon"},{title:t("Status"),dataIndex:"ceph_osd_up",render:e=>"1"===e?t("Up"):t("Down"),isHideable:!0},{title:t("Instance Addr"),dataIndex:"cluster_addr",isHideable:!0},{title:t("Weight"),dataIndex:"ceph_osd_weight",isHideable:!0},{title:t("Apply Latency(ms)"),dataIndex:"ceph_osd_apply_latency_ms",isHideable:!0},{title:t("Commit Latency(ms)"),dataIndex:"ceph_osd_commit_latency_ms",isHideable:!0},{title:t("Total Capacity"),dataIndex:"ceph_osd_stat_bytes",render:e=>(0,M.formatSize)(e),isHideable:!0},{title:t("Usage"),dataIndex:"usage",render:e=>"".concat((0,v.default)(e).toFixed(2),"%"),isHideable:!0}]},3942:function(e,t,a){var r=a(3943);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:undefined,insertInto:void 0};a(76)(r,n);r.locals&&(e.exports=r.locals)},3943:function(e,t,a){(t=e.exports=a(75)(!1)).push([e.i,".index__osd--2HtuM {\n  height: 100%;\n  color: rgba(0, 0, 0, 0.85);\n  font-weight: 500;\n  font-size: 16px;\n  text-align: center;\n}\n.index__header--246Eo {\n  padding: 20px;\n  overflow: auto;\n}\n.index__header--246Eo .index__range--3UhTc .ant-radio-button-wrapper {\n  color: rgba(0, 0, 0, 0.65);\n}\n.index__header--246Eo .index__range--3UhTc .ant-radio-button-wrapper-checked {\n  color: #0068ff;\n}\n.index__header--246Eo .index__download--21jst {\n  float: right;\n}\n.index__header--246Eo .index__download--21jst .ant-btn-icon-only {\n  border-radius: 4px;\n}\n.index__my-card-row--rBTsX .index__top--3Nx2m .index__content--2R7tG {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  height: 100%;\n  font-size: 24px;\n  text-align: center;\n}\n.index__my-card-row--rBTsX .index__top--3Nx2m .ant-card-bordered {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.index__my-card-row--rBTsX .index__top--3Nx2m .ant-card-bordered .ant-card-body {\n  -webkit-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n  padding-top: 0;\n  overflow: hidden;\n}\n.index__my-card-row--rBTsX .ant-card-bordered {\n  -webkit-box-shadow: 0 2px 20px 0 rgba(0, 0, 0, 0.09);\n          box-shadow: 0 2px 20px 0 rgba(0, 0, 0, 0.09);\n}\n.index__my-card-row--rBTsX .ant-card-bordered .ant-card-head {\n  border-bottom: none;\n}\n.index__outer--3mHPU {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  font-size: 12px;\n}\n.index__outer--3mHPU .index__inner--1HrRB {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.index__outer--3mHPU .index__inner--1HrRB::-webkit-scrollbar {\n  display: none;\n}\n.index__top-content--2QZJv {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  height: 120px;\n  font-weight: 500;\n  font-size: 24px;\n}\n.index__tabs--1be8Z .ant-tabs-tab {\n  margin-right: 20px;\n  border-bottom: 1px solid #f0f0f0;\n}\n.index__tabs--1be8Z .ant-tabs-nav::before {\n  border-bottom: none;\n}\n.index__spin-container--2aH9q {\n  width: 100%;\n  min-height: 400px;\n  padding: 30px 50px;\n  text-align: center;\n}\n",""]),t.locals={osd:"index__osd--2HtuM",header:"index__header--246Eo",range:"index__range--3UhTc",download:"index__download--21jst","my-card-row":"index__my-card-row--rBTsX",top:"index__top--3Nx2m",content:"index__content--2R7tG",outer:"index__outer--3mHPU",inner:"index__inner--1HrRB","top-content":"index__top-content--2QZJv",tabs:"index__tabs--1be8Z","spin-container":"index__spin-container--2aH9q"}},3944:function(e,a,r){"use strict";var n=r(35),l=r(44),i=r(33),s=r(25),o=r(28),u=r(45),d=r(46),c=r(19),f=r(156),m=r(21);c(a,"__esModule",{value:!0}),a.default=a.OpenstackService=void 0;var p=m(r(518));r(318);var v=m(r(317)),h=m(r(1192)),g=m(r(52)),y=m(r(37)),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var r={},n=c&&s;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=n?s(e,l):null;i&&(i.get||i.set)?c(r,l,i):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(r(0)),_=r(382),x=r(3945),C=(r(513),r(167),m(r(136))),S=m(r(3947)),w=m(r(1515));function E(e){if("function"!=typeof f)return null;var t=new f,a=new f;return(E=function(e){return e?a:t})(e)}function D(e,t){var a=n(e);if(l){var r=l(e);t&&(r=i(r).call(r,(function(t){return s(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)o(a=D(Object(r),!0)).call(a,(function(t){(0,y.default)(e,t,r[t])}));else if(u)d(e,u(r));else{var n;o(n=D(Object(r))).call(n,(function(t){c(e,t,s(r,t))}))}}return e}class P extends b.Component{constructor(e){var t;super(e),t=this,(0,y.default)(this,"getData",(0,g.default)((function*(){yield t.store.getChartData()}))),(0,y.default)(this,"handleRefresh",(()=>{this.getData()}));var{Store:a=x.OpenstackServiceStore}=e;this.store=new a}componentDidMount(){this.getData()}get enableCinder(){return C.default.checkEndpoint("cinder")}render(){var{nova_service:e,network_service:a,other_service:r,cinder_service:n}=this.store,l=[I({key:"nova_service",title:t("Nova Service")},e),I({key:"network_service",title:t("Neutron Service")},a),I({key:"other_service",title:t("Other Service")},r)];return this.enableCinder&&(0,p.default)(l).call(l,2,0,I({key:"cinder_service",title:t("Cinder Service")},n)),b.default.createElement("div",{className:w.default.container},b.default.createElement(v.default,{type:"default",icon:b.default.createElement(h.default,null),onClick:this.handleRefresh}),b.default.createElement(S.default,{serviceMap:l}))}}a.OpenstackService=P;var T=(0,_.observer)(P);a.default=T},3945:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.OpenstackServiceStore=void 0;var i,s,o,u,d,c,f,m,p,v,h=l(r(65)),g=l(r(28)),y=l(r(1194)),b=l(r(52)),_=l(r(72)),x=(l(r(37)),l(r(55))),C=(l(r(73)),r(32)),S=r(1128),w=l(r(3946)),E={mysql_up:t("Database Service"),rabbitmq_identity_info:t("Message Queue Service"),memcached_up:t("Cache Service")},D=[t("Database Service"),t("Message Queue Service"),t("Cache Service")],I=(i=class extends w.default{constructor(){super(...arguments),(0,_.default)(this,"nova_service",s,this),(0,_.default)(this,"network_service",o,this),(0,_.default)(this,"cinder_service",u,this),(0,_.default)(this,"other_service",d,this),(0,_.default)(this,"getChartData",c,this),(0,_.default)(this,"getNovaService",f,this),(0,_.default)(this,"getNetworkService",m,this),(0,_.default)(this,"getCinderService",p,this),(0,_.default)(this,"getOtherService",v,this)}},s=(0,x.default)(i.prototype,"nova_service",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isLoading:!1,data:[]}}}),o=(0,x.default)(i.prototype,"network_service",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isLoading:!1,data:[]}}}),u=(0,x.default)(i.prototype,"cinder_service",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isLoading:!1,data:[]}}}),d=(0,x.default)(i.prototype,"other_service",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isLoading:!1,data:[]}}}),c=(0,x.default)(i.prototype,"getChartData",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,b.default)((function*(){var t=[e.getNovaService(),e.getNetworkService(),e.getCinderService(),e.getOtherService()];yield h.default.all(t)}))}}),f=(0,x.default)(i.prototype,"getNovaService",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,b.default)((function*(){(0,C.set)(e.nova_service,{isLoading:!0,data:[]});var t=[];try{var[a,r,n,l]=yield h.default.all((0,S.getPromises)("openstackService.novaService")),{data:{result:i}}=a;(0,g.default)(i).call(i,(e=>{var{metric:{service:a="",adminState:r="",hostname:n=""}={}}=e;t.push({hostname:n,serviceName:a,state:"enabled"===r?"up":"down"})}));var{data:{result:s}}=r;(0,g.default)(s).call(s,(e=>{var{metric:{service:a="",hostname:r=""}={}}=e,n=(0,y.default)(t).call(t,(e=>e.serviceName===a&&e.hostname===r));t[n]["".concat(a,"24")]="down"}));var{data:{result:o}}=n;(0,g.default)(o).call(o,(e=>{var{metric:a,value:r}=e;t.push({serviceName:"nova_libvirt",hostname:a.hostname,state:"enabled"===r[1]?"up":"down"})}));var{data:{result:u}}=l;(0,g.default)(u).call(u,(e=>{var{metric:{hostname:a=""}={}}=e,r=(0,y.default)(t).call(t,(e=>"nova_libvirt"===e.serviceName&&e.hostname===a));t[r].nova_libvirt24="down"}))}finally{(0,C.set)(e.nova_service,{isLoading:!1,data:t})}}))}}),m=(0,x.default)(i.prototype,"getNetworkService",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,b.default)((function*(){(0,C.set)(e.network_service,{isLoading:!0,data:[]});var t=[];try{var[a,r]=yield h.default.all(S.getPromises.call(e,"openstackService.networkService")),{data:{result:n}}=a;(0,g.default)(n).call(n,(e=>{var{metric:{service:a="",adminState:r="",hostname:n=""}={}}=e;t.push({serviceName:a,hostname:n,state:r})}));var{data:{result:l}}=r;(0,g.default)(l).call(l,(e=>{var{metric:{service:a="",hostname:r=""}={}}=e,n=(0,y.default)(t).call(t,(e=>e.serviceName===a&&e.hostname===r));t[n]["".concat(a,"24")]="down"}))}finally{(0,C.set)(e.network_service,{isLoading:!1,data:t})}}))}}),p=(0,x.default)(i.prototype,"getCinderService",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,b.default)((function*(){(0,C.set)(e.cinder_service,{isLoading:!0,data:[]});var t=[];try{var[a,r]=yield h.default.all(S.getPromises.call(e,"openstackService.cinderService")),{data:{result:n}}=a;(0,g.default)(n).call(n,(e=>{var{metric:{service:a="",adminState:r="",hostname:n=""}={}}=e;t.push({serviceName:a,hostname:n,state:"enabled"===r?"up":"down"})}));var{data:{result:l}}=r;(0,g.default)(l).call(l,(e=>{var{metric:{service:a="",hostname:r=""}={}}=e,n=(0,y.default)(t).call(t,(e=>e.serviceName===a&&e.hostname===r));t[n]["".concat(a,"24")]="down"}))}finally{(0,C.set)(e.cinder_service,{isLoading:!1,data:t})}}))}}),v=(0,x.default)(i.prototype,"getOtherService",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,b.default)((function*(){(0,C.set)(e.other_service,{isLoading:!0,data:[]});var t=[];try{var a=yield h.default.all(S.getPromises.call(e,"openstackService.otherService"));(0,g.default)(a).call(a,(e=>{var{data:{result:a}}=e;(0,g.default)(a).call(a,(e=>{var{metric:a,value:r}=e;t.push({serviceName:E[a.__name__],hostname:a.instance,state:"1"===r[1]?"up":"down"})}))})),a=yield h.default.all(S.getPromises.call(e,"openstackService.otherServiceMinOverTime")),(0,g.default)(a).call(a,((e,a)=>{var{data:{result:r}}=e;(0,g.default)(r).call(r,(e=>{var{metric:{instance:r=""}={}}=e,n=(0,y.default)(t).call(t,(e=>e.serviceName===D[a]&&e.hostname===r));t[n]["".concat(D[a],"24")]="down"}))}))}finally{(0,C.set)(e.other_service,{isLoading:!1,data:t})}}))}}),i);a.OpenstackServiceStore=I;var P=new I;a.default=P},3946:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var l,i,s,o,u,d,c,f=n(a(395)),m=n(a(221)),p=n(a(35)),v=n(a(25)),h=n(a(33)),g=n(a(536)),y=n(a(52)),b=n(a(72)),_=(n(a(37)),n(a(55))),x=(n(a(73)),a(32)),C=a(1128),S=a(527),w=n(a(54)),E=(l=class extends w.default{constructor(){super(...arguments),(0,b.default)(this,"currentRange",i,this),(0,b.default)(this,"interval",s,this),(0,b.default)(this,"loading",o,this),(0,b.default)(this,"handleRangePickerChange",u,this),(0,b.default)(this,"handleIntervalChange",d,this),(0,b.default)(this,"handleDeviceChange",c,this)}get responseKey(){return""}get intervals(){return(0,C.getInterval)(this.currentRange)}formatToGiB(e){return(0,f.default)(((0,m.default)(e,10)/1073741824).toFixed(2))}buildRequest(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"range",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0===(0,p.default)(a).length?e:(0,C.addParams)(e,a);return"current"===t?this.skylineClient.query.list({query:r}):this.skylineClient.queryRange.list({query:r,start:(0,S.getTimestamp)(this.currentRange[0]),end:(0,S.getTimestamp)(this.currentRange[1]),step:this.interval})}},i=(0,_.default)(l.prototype,"currentRange",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,C.defaultOneHourAgo)()}}),s=(0,_.default)(l.prototype,"interval",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),o=(0,_.default)(l.prototype,"loading",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=(0,_.default)(l.prototype,"handleRangePickerChange",[x.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,y.default)((function*(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a||(0,S.getTimestamp)(e.currentRange[0])===(0,S.getTimestamp)(t[0])&&(0,S.getTimestamp)(e.currentRange[1])===(0,S.getTimestamp)(t[1])?e.currentRange=t:(e.currentRange=t,e.interval=e.intervals[0].value),yield e.getChartData()}));return function(e){return t.apply(this,arguments)}}()}}),(0,_.default)(l.prototype,"intervals",[x.computed],(0,v.default)(l.prototype,"intervals"),l.prototype),d=(0,_.default)(l.prototype,"handleIntervalChange",[x.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,y.default)((function*(t){e.interval=t,yield e.getChartData()}));return function(e){return t.apply(this,arguments)}}()}}),c=(0,_.default)(l.prototype,"handleDeviceChange",[x.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var a,r=this[t];(0,x.set)(r,{isLoading:!0});var n=(0,h.default)(a=r.data).call(a,(t=>t.device===e));(0,g.default)((()=>{(0,x.set)(r,{currentDevice:e,currentShowData:n,isLoading:!1})}),200)}}}),l);t.default=E},3947:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=void 0;var i=l(r(62));r(1428);var s=l(r(1308));r(1115);var o=l(r(1116));r(387);var u=l(r(220)),d=l(r(1434)),c=l(r(1432));r(1318);var f=l(r(1319)),m=l(r(0)),p=(r(167),r(513),l(r(1515))),{Panel:v}=f.default,h={up:m.default.createElement(c.default,{style:{fontSize:24,marginLeft:36},twoToneColor:"#52C41A"}),down:m.default.createElement(d.default,{style:{fontSize:24,marginLeft:36},twoToneColor:"#EB354D"})},g=e=>{var{serviceMap:a}=e;return m.default.createElement(f.default,{defaultActiveKey:(0,i.default)(a).call(a,(e=>e.key)),ghost:!0},(0,i.default)(a).call(a,(e=>m.default.createElement(v,{header:m.default.createElement("span",{className:p.default.header},e.title),key:e.key},m.default.createElement(s.default,{bordered:!0,dataSource:e.data,className:p.default.list,loading:e.isLoading,renderItem:e=>m.default.createElement(s.default.Item,{className:p.default.item},m.default.createElement(o.default,{className:p.default.title,span:6},e.engine_id?m.default.createElement(u.default,{title:e.engine_id},m.default.createElement("span",null,e.serviceName)):e.serviceName),m.default.createElement(o.default,{className:p.default.title,span:6},e.hostname||e.host),m.default.createElement(o.default,{className:p.default.status,span:6},m.default.createElement("span",null,t("Current Status")),h[e.state]),m.default.createElement(o.default,{className:p.default.status,span:6},m.default.createElement("span",null,t("Last 24H Status")," "),e["".concat(e.serviceName,"24")]?h[e["".concat(e.serviceName,"24")]]:h.up))})))))};a.default=g},3948:function(e,t,a){(t=e.exports=a(75)(!1)).push([e.i,".index__header--2Tct3 {\n  color: rgba(0, 0, 0, 0.85);\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 22px;\n}\n.index__list--AK4zu {\n  background-color: #fff;\n  border: none;\n  -webkit-box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.05);\n          box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.05);\n}\n.index__list--AK4zu .index__item--2Dqsf {\n  height: 76px;\n}\n.index__list--AK4zu .index__item--2Dqsf .index__title--Tai7z {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  color: rgba(0, 0, 0, 0.65);\n  font-weight: 400;\n  font-size: 16px;\n}\n.index__list--AK4zu .index__item--2Dqsf .index__status--2Ke1i {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  color: rgba(0, 0, 0, 0.65);\n  font-weight: 400;\n  font-size: 14px;\n}\n.index__container--22t9I {\n  height: 100%;\n  padding: 16px;\n  overflow: auto;\n}\n",""]),t.locals={header:"index__header--2Tct3",list:"index__list--AK4zu",item:"index__item--2Dqsf",title:"index__title--Tai7z",status:"index__status--2Ke1i",container:"index__container--22t9I"}},3949:function(e,t,a){"use strict";var r=a(156),n=a(19),l=a(25),i=a(21);n(t,"__esModule",{value:!0}),t.default=t.OtherService=void 0,a(538);var s=i(a(399)),o=i(a(37)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var r={},i=n&&l;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?l(e,s):null;o&&(o.get||o.set)?n(r,s,o):r[s]=e[s]}r.default=e,a&&a.set(e,r);return r}(a(0)),d=a(382),c=(a(167),i(a(3950))),f=i(a(3951)),m=i(a(3952)),p=i(a(3953));function v(e){if("function"!=typeof r)return null;var t=new r,a=new r;return(v=function(e){return e?a:t})(e)}class h extends u.Component{constructor(e){super(e),(0,o.default)(this,"handleTypeChange",(e=>{this.setState({type:e.target.value})})),(0,o.default)(this,"renderTypeSelect",(()=>{var{type:e}=this.state;return u.default.createElement(s.default.Group,{onChange:this.handleTypeChange,value:e},u.default.createElement(s.default.Button,{value:"mysql"},"MySQL"),u.default.createElement(s.default.Button,{value:"memcache"},"Memcache"),u.default.createElement(s.default.Button,{value:"rabbitmq"},"RabbitMQ"))})),(0,o.default)(this,"renderSelectTab",(()=>{var{type:e}=this.state,t=null;switch(e){case"mysql":t=c.default;break;case"memcache":t=m.default;break;case"rabbitmq":t=f.default;break;default:t=c.default}return u.default.createElement(t,{type:e})})),this.state={type:"mysql"}}render(){return u.default.createElement("div",{className:p.default.container},u.default.createElement("div",{style:{padding:"20px 20px 0 20px"}},this.renderTypeSelect()),u.default.createElement("div",{className:p.default.content},this.renderSelectTab()))}}t.OtherService=h;var g=(0,d.observer)(h);t.default=g},3950:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.chartConfig=void 0;var i=l(r(0)),s=r(47),o=l(r(1182)),u=r(1267),d=r(135),c=l(r(1266)),f=r(1128),m={topCardList:[{title:t("Running Time"),span:6,createFetchParams:{metricKey:"mysqlService.runningTime"},renderContent:e=>{var{data:t}=e;return i.default.createElement("div",{className:c.default["top-content"]},(0,d.formatUsedTime)(1e3*(0,s.get)(t,"[0].y",0)))}},{title:t("Connected Threads"),span:6,createFetchParams:{metricKey:"mysqlService.connectedThreads"}},{title:t("Running Threads"),span:6,createFetchParams:{metricKey:"mysqlService.runningThreads"}},{title:t("Slow Query"),span:6,createFetchParams:{metricKey:"mysqlService.slowQuery"}}],chartCardList:[{title:t("Threads Activity Trends"),createFetchParams:{metricKey:"mysqlService.threadsActivityTrends_connected"},chartProps:{chartType:f.ChartType.ONELINE,scale:{y:{alias:t("Threads Activity Trends")}}}},{title:t("MySQL Actions"),createFetchParams:{metricKey:"mysqlService.mysqlActions"},handleDataParams:{modifyKeys:[t("delete"),t("insert"),t("update")]},chartProps:{chartType:f.ChartType.MULTILINE,scale:{y:{alias:t("MySQL Actions")}}}},{title:t("Slow Query"),createFetchParams:{metricKey:"mysqlService.slowQueryChart"},chartProps:{chartType:f.ChartType.ONELINE,scale:{y:{alias:t("Slow Query")}}}}]};a.chartConfig=m;a.default=e=>{var{type:t}=e;return i.default.createElement(o.default,{type:t,chartConfig:m,fetchNodesFunc:u.getMysqlNodes})}},3951:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.chartConfig=void 0,r(1117);var i=l(r(1118));r(1115);var s=l(r(1116)),o=l(r(28)),u=l(r(221)),d=l(r(0)),c=r(47),f=(r(167),l(r(1182))),m=r(1267),p=r(1128),v=l(r(1266)),h={topCardList:[{title:t("Server Status"),createFetchParams:{metricKey:"rabbitMQService.serviceStatus"},handleDataParams:{formatDataFn:e=>{var t={up:0,down:0},a=(0,c.get)(e[0],"data.result",[]);return(0,o.default)(a).call(a,(e=>{1===(0,u.default)(e.value[1],10)?t.up+=1:t.down+=1})),t}},renderContent:e=>{var{data:a}=e;return d.default.createElement("div",{className:v.default["top-content"]},d.default.createElement(i.default,{style:{width:"100%",textAlign:"center"}},d.default.createElement(s.default,{span:12},a.up+t("Up")),d.default.createElement(s.default,{span:12},a.down+t("Down"))))}},{title:t("Connected Threads"),createFetchParams:{metricKey:"rabbitMQService.totalConnections"}},{title:t("Total Queues"),createFetchParams:{metricKey:"rabbitMQService.totalQueues"}},{title:t("Total Exchanges"),createFetchParams:{metricKey:"rabbitMQService.totalExchanges"}},{title:t("Total Consumers"),createFetchParams:{metricKey:"rabbitMQService.totalConsumers"}}],chartCardList:[{title:t("Published Out"),createFetchParams:{metricKey:"rabbitMQService.publishedOut"},chartProps:{chartType:p.ChartType.ONELINE,scale:{y:{alias:t("Published Out")}}}},{title:t("Published In"),createFetchParams:{metricKey:"rabbitMQService.publishedIn"},chartProps:{chartType:p.ChartType.ONELINE,scale:{y:{alias:t("Published In")}}}},{title:t("Channel"),createFetchParams:{metricKey:"rabbitMQService.channel"},chartProps:{chartType:p.ChartType.ONELINE,scale:{y:{alias:t("Channel")}}}}]};a.chartConfig=h;a.default=e=>{var{type:t}=e;return d.default.createElement(f.default,{type:t,chartConfig:h,fetchNodesFunc:m.getRabbitMQNodes})}},3952:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.chartConfig=void 0;var i=l(r(0)),s=l(r(1182)),o=r(1267),u=r(1128),d=r(1268),c={chartCardList:[{title:t("Current Connections"),createFetchParams:{metricKey:"memcacheService.currentConnections"},chartProps:{chartType:u.ChartType.ONELINE,scale:{y:{alias:t("Current Connections")}}}},{title:t("Total Connections"),createFetchParams:{metricKey:"memcacheService.totalConnections"},chartProps:{chartType:u.ChartType.ONELINE,scale:{y:{alias:t("Total Connections")}}}},{title:t("Read And Write"),createFetchParams:{metricKey:"memcacheService.readWriteBytesTotal"},handleDataParams:{modifyKeys:[t("read"),t("write")]},chartProps:{chartType:u.ChartType.MULTILINE,scale:{y:{formatter:e=>(0,d.getSuitableValue)(e,"traffic",0)}}}},{title:t("Evictions"),createFetchParams:{metricKey:"memcacheService.evictions"},chartProps:{chartType:u.ChartType.ONELINE,scale:{y:{alias:t("Evictions")}}}},{title:t("Items in Cache"),createFetchParams:{metricKey:"memcacheService.itemsInCache"},chartProps:{chartType:u.ChartType.ONELINE,scale:{y:{alias:t("Items in Cache")}}}}]};a.chartConfig=c;a.default=e=>{var{type:t}=e;return i.default.createElement(s.default,{type:t,chartConfig:c,fetchNodesFunc:o.getMemcacheNodes})}},3953:function(e,t,a){var r=a(3954);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:undefined,insertInto:void 0};a(76)(r,n);r.locals&&(e.exports=r.locals)},3954:function(e,t,a){(t=e.exports=a(75)(!1)).push([e.i,".index__header--2QIxy {\n  color: rgba(0, 0, 0, 0.85);\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 22px;\n}\n.index__list--2MUu4 {\n  background-color: #fff;\n  -webkit-box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.05);\n          box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.05);\n}\n.index__list--2MUu4 .index__item--vVdTT {\n  height: 76px;\n}\n.index__list--2MUu4 .index__item--vVdTT .index__title--13rNn {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  color: rgba(0, 0, 0, 0.65);\n  font-weight: 400;\n  font-size: 16px;\n}\n.index__list--2MUu4 .index__item--vVdTT .index__status--1Jr4w {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  color: rgba(0, 0, 0, 0.65);\n  font-weight: 400;\n  font-size: 14px;\n}\n.index__container--12Azg {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  height: 100%;\n}\n.index__container--12Azg .index__content--50gtm {\n  -webkit-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n  overflow: auto;\n}\n",""]),t.locals={header:"index__header--2QIxy",list:"index__list--2MUu4",item:"index__item--vVdTT",title:"index__title--13rNn",status:"index__status--1Jr4w",container:"index__container--12Azg",content:"index__content--50gtm"}},3955:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=void 0,a(1117);var l=n(a(1118));a(1115);var i=n(a(1116)),s=n(a(0)),o=n(a(1182)),u=(a(167),n(a(1512))),d=a(1227),c=n(a(1269)),f=n(a(3957)),m=a(3958),p={renderNodeSelect:!1,renderTimeRangeSelect:!1},v=()=>s.default.createElement(o.default,p,s.default.createElement(l.default,{gutter:[16,16],className:c.default.container},s.default.createElement(i.default,{span:24},s.default.createElement(f.default,null)),s.default.createElement(i.default,{span:24},s.default.createElement(l.default,{gutter:[16,16]},s.default.createElement(i.default,{span:12},s.default.createElement(u.default,{topCardList:m.physicalNodeLeftTopCardList})),s.default.createElement(i.default,{span:12},s.default.createElement(u.default,{topCardList:m.physicalNodeRightTopCardList})))),s.default.createElement(i.default,{span:24},s.default.createElement(u.default,{baseTopCardProps:{span:12,createFetchParams:{requestType:"current"},handleDataParams:{formatDataFn:d.handleResponses},visibleHeight:200,renderContent:e=>s.default.createElement("div",{className:c.default["top-content"]},e.data)},topCardList:m.topCardList})),s.default.createElement(i.default,{span:24},s.default.createElement(l.default,{gutter:[16,16]},s.default.createElement(i.default,{span:12},s.default.createElement(u.default,{topCardList:m.storageLeftCardList})),s.default.createElement(i.default,{span:12},s.default.createElement(u.default,{chartCardList:m.storageRightChartList}))))));t.default=v},3956:function(e,t,a){(t=e.exports=a(75)(!1)).push([e.i,".index__container--10N7f .index__card--3LuCF {\n  height: 100%;\n  padding: 16px;\n  color: #000;\n  background-color: #fff;\n  -webkit-box-shadow: 0 0 8px 0 rgba(0, 0, 0, 0.05), 0 0 10px 0 rgba(0, 0, 0, 0.05);\n          box-shadow: 0 0 8px 0 rgba(0, 0, 0, 0.05), 0 0 10px 0 rgba(0, 0, 0, 0.05);\n}\n.index__container--10N7f .index__card--3LuCF .index__tabs--1jk3S .ant-tabs-tab {\n  margin-right: 20px;\n  border-bottom: 1px solid #f0f0f0;\n}\n.index__container--10N7f .index__card--3LuCF .index__tabs--1jk3S .ant-tabs-nav::before {\n  border-bottom: none;\n}\n.index__container--10N7f .index__alert-card-line--10YeJ {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.index__container--10N7f .index__alert-card-line--10YeJ .index__number--17oxK {\n  color: #e86804;\n  font-size: 36px;\n}\n.index__outer--3WpA3 {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  font-size: 14px;\n}\n.index__outer--3WpA3 .index__inner--1jNf7 {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.index__outer--3WpA3 .index__inner--1jNf7::-webkit-scrollbar {\n  display: none;\n}\n.index__top-content--3X_Di {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  height: 100px;\n  font-weight: 500;\n  font-size: 24px;\n}\n.index__tabs--1jk3S .ant-tabs-tab {\n  margin-right: 20px;\n  border-bottom: 1px solid #f0f0f0;\n}\n.index__tabs--1jk3S .ant-tabs-nav::before {\n  border-bottom: none;\n}\n",""]),t.locals={container:"index__container--10N7f",card:"index__card--3LuCF",tabs:"index__tabs--1jk3S","alert-card-line":"index__alert-card-line--10YeJ",number:"index__number--17oxK",outer:"index__outer--3WpA3",inner:"index__inner--1jNf7","top-content":"index__top-content--3X_Di"}},3957:function(e,a,r){"use strict";var n=r(156),l=r(19),i=r(25),s=r(21);l(a,"__esModule",{value:!0}),a.default=void 0,r(398);var o=s(r(401));r(1117);var u=s(r(1118));r(1115);var d=s(r(1116));r(324);var c=s(r(325)),f=s(r(52)),m=s(r(28)),p=s(r(168)),v=s(r(62)),h=s(r(65)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var r={},n=l&&i;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?i(e,s):null;o&&(o.get||o.set)?l(r,s,o):r[s]=e[s]}r.default=e,a&&a.set(e,r);return r}(r(0)),y=(r(167),s(r(1269))),b=r(1227),_=s(r(115)),x=r(1329),C=r(1214);function S(e){if("function"!=typeof n)return null;var t=new n,a=new n;return(S=function(e){return e?a:t})(e)}function w(e){var{data:a}=e;return g.default.createElement("div",{className:y.default.card},g.default.createElement(u.default,{justify:"space-between"},g.default.createElement("span",null,t("Last week alarm trend")),g.default.createElement("span",null,t("time / 24h"))),g.default.createElement(u.default,{justify:"center",align:"middle",style:{height:272,paddingTop:10}},0===a.length?g.default.createElement(o.default,null):g.default.createElement(E,{data:a})))}function E(e){var{data:t}=e;return g.default.createElement(C.Chart,{padding:[10,20,50,50],autoFit:!0,data:t,scale:{count:{nice:!0}}},g.default.createElement(C.Line,{position:"date*count"}),g.default.createElement(C.Tooltip,{showCrosshairs:!0,lock:!0}))}var D=function(){var e=(0,x.createFetchPrometheusClient)({requestType:"range",metricKey:"monitorOverview.alertInfo"}),a=(0,x.createDataHandler)({formatDataFn:(e,t,a,r)=>{var n=[];return(0,m.default)(e).call(e,((e,l)=>{n.push((0,b.handleResponse)(e,t,a,r[l]))})),n},modifyKeys:["cpu","memory"]}),[r,n]=(0,g.useState)(!0),[l,i]=(0,g.useState)(0),[s,o]=(0,g.useState)(0),[C,S]=(0,g.useState)(function(){for(var e=(0,_.default)().startOf("day"),t=[],a=6;a>=0;a--)t.push({fullDate:e.clone().subtract(a,"day").format("YYYY-MM-DD"),date:e.clone().subtract(a,"day").format("MM-DD"),count:0});return t}()),E=function(){var t=(0,f.default)((function*(t){var r=(0,_.default)(t).endOf("day"),n=(0,_.default)(t).startOf("day"),l=yield e({interval:15,currentRange:[n,r]}),[i,s]=a(l).retData,o=(0,p.default)(i).call(i,((e,t,a)=>a>0&&t.x-i[a-1].x>15?e+1:e),0),u=(0,p.default)(s).call(s,((e,t,a)=>a>0&&t.x-s[a-1].x>15?e+1:e),0);return{date:t,total:o+u,cpuTotal:o,memTotal:u}}));return function(e){return t.apply(this,arguments)}}(),D=function(){var e=(0,f.default)((function*(){n(!0);var e=(0,v.default)(C).call(C,(e=>{var{fullDate:t}=e;return E(t)}));try{var t=yield h.default.all(e);(0,m.default)(t).call(t,((e,a)=>{var{total:r,cpuTotal:n,memTotal:l}=e;a===t.length-1&&(i(n),o(l)),C[a].count=r}))}catch(e){}S([...C]),n(!1)}));return function(){return e.apply(this,arguments)}}();return(0,g.useEffect)((()=>{D()}),[]),r?g.default.createElement(c.default,null):g.default.createElement(u.default,{gutter:[16,16]},g.default.createElement(d.default,{flex:"1 1"},g.default.createElement("div",{className:y.default.card},g.default.createElement(u.default,{style:{height:"100%"}},g.default.createElement(d.default,{span:12,className:y.default["alert-card-line"]},g.default.createElement("div",{className:y.default.number},l),g.default.createElement("div",null,t("Today CPU usage > 80% alert"))),g.default.createElement(d.default,{span:12,className:y.default["alert-card-line"]},g.default.createElement("div",{className:y.default.number},s),g.default.createElement("div",null,t("Today Memory usage > 80% alert")))))),g.default.createElement(d.default,{flex:"0 1 440px"},g.default.createElement(w,{data:C})))};a.default=D},3958:function(e,a,r){"use strict";var n=r(35),l=r(44),i=r(33),s=r(25),o=r(28),u=r(45),d=r(46),c=r(19),f=r(21);c(a,"__esModule",{value:!0}),a.storageRightChartList=a.storageLeftCardList=a.topCardList=a.physicalNodeRightTopCardList=a.physicalNodeLeftTopCardList=void 0;var m=f(r(82)),p=f(r(28)),v=f(r(221)),h=f(r(395)),g=f(r(37));r(1139);var y=f(r(1140));r(1117);var b=f(r(1118)),_=f(r(0)),x=r(47),C=(r(167),r(135)),S=r(1268),w=f(r(1514)),E=r(1227),D=r(1128),I=f(r(136)),P=r(3959),T=f(r(1269));function N(e,t){var a=n(e);if(l){var r=l(e);t&&(r=i(r).call(r,(function(t){return s(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)o(a=N(Object(r),!0)).call(a,(function(t){(0,g.default)(e,t,r[t])}));else if(u)d(e,u(r));else{var n;o(n=N(Object(r))).call(n,(function(t){c(e,t,s(r,t))}))}}return e}var M=[{title:t("Physical CPU Usage"),span:12,createFetchParams:{metricKey:"monitorOverview.physicalCPUUsage"},renderContent:e=>{var t,{data:a}=e,r=(0,x.get)(a[0],"y",0),n=(0,x.get)(a[1],"y",0);return _.default.createElement("div",{className:T.default["top-content"]},_.default.createElement("div",null,_.default.createElement(b.default,{style:{alignItems:"baseline",justifyContent:"center"}},_.default.createElement("span",{style:{fontSize:28,fontWeight:600}},(0,C.computePercentage)(r,n)),"%"),_.default.createElement(b.default,{style:{alignItems:"baseline",justifyContent:"center",fontSize:12}},(0,m.default)(t="".concat(r," / ")).call(t,n))))}},{title:t("Total Ram"),span:12,createFetchParams:{metricKey:"monitorOverview.physicalMemoryUsage"},renderContent:e=>{var t,{data:a}=e,r=(0,x.get)(a[0],"y",0),n=(0,x.get)(a[1],"y",0),l=(0,S.getSuitableValue)(r,"memory"),i=(0,S.getSuitableValue)(n,"memory");return _.default.createElement("div",{className:T.default["top-content"]},_.default.createElement("div",null,_.default.createElement(b.default,{style:{alignItems:"baseline",justifyContent:"center"}},_.default.createElement("span",{style:{fontSize:28,fontWeight:600}},(0,C.computePercentage)(r,n)),"%"),_.default.createElement(b.default,{style:{alignItems:"baseline",justifyContent:"center",fontSize:12}},(0,m.default)(t="".concat(l," / ")).call(t,i))))}},{title:t("Physical Storage Usage"),span:24,createFetchParams:{metricKey:"monitorOverview.physicalStorageUsage"},renderContent:e=>{var a,r,n,{data:l}=e,i=(0,x.get)(l[0],"y",0),s=(0,x.get)(l[1],"y",0),o=(0,S.getSuitableValue)(i,"disk"),u=(0,S.getSuitableValue)(s,"disk"),d=(0,C.computePercentage)(i,s);return _.default.createElement("div",{className:T.default["top-content"]},_.default.createElement("div",{style:{width:"100%",height:"100%"}},_.default.createElement(b.default,{style:{justifyContent:"flex-end",height:"50%"}},_.default.createElement("span",{style:{fontSize:12,marginRight:32}},(0,m.default)(a=(0,m.default)(r=(0,m.default)(n="".concat(t("Used")," ")).call(n,o," / ")).call(r,t("Total")," ")).call(a,u))),_.default.createElement(b.default,{style:{height:"50%"}},_.default.createElement(y.default,{style:{width:"95%"},percent:d,strokeColor:d>80?"#FAAD14":"#1890FF",showInfo:100!==d}))))}}];a.physicalNodeLeftTopCardList=M;var L=[{visibleHeight:319,createFetchParams:{requestType:"current",metricKey:"monitorOverview.computeNodeStatus"},handleDataParams:{formatDataFn:e=>{var t=[{type:"up",value:0},{type:"down",value:0}],a=(0,x.get)(e[0],"data.result",[]);return(0,p.default)(a).call(a,(e=>{var a="enabled"===e.metric.adminState?0:1;t[a].value+=(0,v.default)(e.value[1],10)})),t}},title:t("Compute Node status"),renderContent:e=>{var{data:t}=e;return _.default.createElement("div",{style:{height:309}},_.default.createElement(w.default,{data:t}))}}];a.physicalNodeRightTopCardList=L;var F=[{title:t("Host CPU Usage"),span:12,createFetchParams:{metricKey:"monitorOverview.topHostCPUUsage"},handleDataParams:{typeKey:"instance"},renderContent:P.renderTopProgress},{title:t("Host Disk Average IOPS"),span:12,createFetchParams:{metricKey:"monitorOverview.topHostDiskIOPS"},handleDataParams:{formatDataFn:(e,t,a,r)=>{var n=[];return(0,p.default)(e).call(e,((e,t)=>{var a;(0,p.default)(a=e.data.result||[]).call(a,(e=>{n.push({x:e.metric.instance,y:(0,h.default)((0,x.get)(e,"value[1]",0)),type:r[t]})}))})),n},modifyKeys:[t("read"),t("write")]},extra:P.renderTopColumnExtra,renderContent:P.renderTopColumnChart},{title:t("Host Memory Usage"),span:12,createFetchParams:{metricKey:"monitorOverview.topHostMemoryUsage"},handleDataParams:{typeKey:"instance"},renderContent:P.renderTopProgress},{title:t("Host Average Network IO"),span:12,createFetchParams:{metricKey:"monitorOverview.topHostInterface"},handleDataParams:{formatDataFn:(e,t,a,r)=>{var n=[];return(0,p.default)(e).call(e,((e,t)=>{var a;(0,p.default)(a=e.data.result||[]).call(a,(e=>{n.push({x:e.metric.instance,y:(0,h.default)((0,x.get)(e,"value[1]",0)),type:r[t]})}))})),n},modifyKeys:[t("receive"),t("transmit")]},extra:P.renderTopColumnExtra,renderContent:e=>{var t=(0,P.renderTopColumnChart)(e);return _.default.cloneElement(t,k(k({},t.props),{},{scale:{y:{nice:!0,formatter:e=>(0,S.getSuitableValue)(e,"traffic",0)}}}))}}];a.topCardList=F;var O=[{title:t("Storage Cluster Status"),span:24,createFetchParams:{metricKey:"monitorOverview.cephHealthStatus"},renderContent:e=>{var t=(0,x.get)(e.data,"y",0);return _.default.createElement("div",{className:T.default["top-content"],style:{fontSize:28,fontWeight:600,color:S.cephStatusColorMap[t],height:65}},S.cephStatusMap[t])}},{title:t("Storage Cluster Usage"),span:12,createFetchParams:{metricKey:"monitorOverview.cephStorageUsage"},renderContent:e=>{var t,{data:a}=e,r=(0,x.get)(a[0],"y",0),n=(0,x.get)(a[1],"y",0),l=(0,S.getSuitableValue)(r,"disk"),i=(0,S.getSuitableValue)(n,"disk");return _.default.createElement("div",{className:T.default["top-content"]},_.default.createElement("div",null,_.default.createElement(b.default,{style:{alignItems:"baseline",justifyContent:"center"}},_.default.createElement("span",{style:{fontSize:28,fontWeight:600}},(0,C.computePercentage)(r,n)),"%"),_.default.createElement(b.default,{style:{alignItems:"baseline",justifyContent:"center",fontSize:12}},(0,m.default)(t="".concat(l," / ")).call(t,i))))}},{title:t("Disk allocation (GiB)"),span:12,createFetchParams:{metricKey:"monitorOverview.cephStorageAllocate"},renderContent:e=>{var t,{data:a}=e,r=(0,h.default)((0,x.get)(a[1],"y",0).toFixed(2)),n=(0,h.default)((r-(0,x.get)(a[0],"y",0)).toFixed(2));return _.default.createElement("div",{className:T.default["top-content"]},_.default.createElement("div",null,_.default.createElement(b.default,{style:{alignItems:"baseline",justifyContent:"center"}},_.default.createElement("span",{style:{fontSize:28,fontWeight:600}},(0,C.computePercentage)(n,r)),"%"),_.default.createElement(b.default,{style:{alignItems:"baseline",justifyContent:"center",fontSize:12}},(0,m.default)(t="".concat(n," GiB / ")).call(t,r," GiB"))))},hidden:!I.default.checkEndpoint("cinder")}];a.storageLeftCardList=O;var K=[{title:t("Storage Cluster IOPS"),createFetchParams:{requestType:"range",metricKey:"monitorOverview.cephStorageClusterIOPS"},handleDataParams:{formatDataFn:E.handleResponses,modifyKeys:[t("read"),t("write")]},span:24,chartProps:{chartType:D.ChartType.MULTILINE,height:318,scale:{y:{nice:!0}}}}];a.storageRightChartList=K},3959:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.renderTopColumnChart=t.renderTopColumnExtra=t.renderTopProgress=void 0,a(1178);var l=n(a(1179));a(1117);var i=n(a(1118));a(1115);var s=n(a(1116));a(1139);var o=n(a(1140)),u=n(a(62)),d=n(a(33)),c=n(a(0)),f=(a(167),a(47)),m=a(1214),p=n(a(1269));t.renderTopProgress=e=>{var{data:t}=e;return c.default.createElement(i.default,{style:{height:"100%"}},(0,u.default)(t).call(t,(e=>{var t=(0,f.get)(e,"y",0),a=t>80?"#FAAD14":"#1890FF";return c.default.createElement(s.default,{span:24,key:e.type},c.default.createElement("div",null,e.type),c.default.createElement(o.default,{strokeColor:a,percent:t,style:{marginBottom:4},showInfo:100!==t}))})))};t.renderTopColumnExtra=e=>{var{modifyKeys:t,filterChartData:a}=e;return c.default.createElement(l.default,{className:p.default.tabs,defaultActiveKey:t[0],onChange:e=>a((t=>t.type===e))},(0,u.default)(t).call(t,(e=>c.default.createElement(l.default.TabPane,{tab:e,key:e}))))};t.renderTopColumnChart=e=>{var{data:t,modifyKeys:a}=e;return c.default.createElement(m.Chart,{autoFit:!0,data:t.length<=5?t:(0,d.default)(t).call(t,(e=>e.type===a[0])),height:198,scale:{y:{nice:!0}}},c.default.createElement(m.Interval,{position:"x*y",size:20}))}},3960:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(389)),i=n(a(3961)),s=e=>(0,l.default)(i.default,e);t.default=s},3961:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(1130)),i=n(a(525)),s=n(a(3962)),o=n(a(1516)),u=n(a(3969)),d=n(a(3973)),c=n(a(3977)),f=n(a(3993)),m=n(a(3997)),p="/database",v=[{path:p,component:l.default,routes:[{path:"".concat(p,"/instances"),component:s.default,exact:!0},{path:"".concat(p,"/instances/create"),component:o.default,exact:!0},{path:"".concat(p,"/backups"),component:u.default,exact:!0},{path:"".concat(p,"/configurations"),component:d.default,exact:!0},{path:"".concat(p,"/instances/detail/:id"),component:c.default,exact:!0},{path:"".concat(p,"/backups/detail/:id"),component:m.default,exact:!0},{path:"".concat(p,"/configurations/detail/:id"),component:f.default,exact:!0},{path:"*",component:i.default}]}];t.default=v},3962:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.Instances=void 0;var i=l(r(62)),s=l(r(37)),o=l(r(0)),u=r(382),d=l(r(1114)),c=l(r(1173)),f=r(1332),m=r(47),p=l(r(3963));class v extends d.default{constructor(){super(...arguments),(0,s.default)(this,"getColumns",(()=>[{title:t("Instance Name"),dataIndex:"name",routeName:this.getRouteName("databaseInstanceDetail")},{title:t("Datastore"),dataIndex:"datastore",render:e=>(0,m.get)(e,"type","-")},{title:t("Datastore Version"),dataIndex:"datastore",render:e=>(0,m.get)(e,"version","-"),isHideable:!0},{title:t("Host"),dataIndex:"ip",render:e=>e&&e.length?o.default.createElement(o.default.Fragment,null,(0,i.default)(e).call(e,(e=>o.default.createElement("div",{key:e},e)))):"-",isHideable:!0},{title:t("Volume Size"),dataIndex:"volume",isHideable:!0,render:e=>e?"".concat(e.size,"GiB"):"-"},{title:t("Status"),dataIndex:"status",render:e=>f.InstanceStatus[e]||e}]))}init(){this.store=c.default}get name(){return t("Instances")}get actionConfigs(){return p.default}get policy(){return"instance:index"}get aliasPolicy(){return"trove:instance:index"}get searchFilters(){return[{label:t("Name"),name:"name"}]}}a.Instances=v;var h=(0,u.inject)("rootStore")((0,u.observer)(v));a.default=h},3963:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(3964)),i=n(a(1516)),s={rowActions:{firstAction:l.default},primaryActions:[i.default],batchActions:[l.default]};t.default=s},3964:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=void 0;var i=l(r(37)),s=r(1113),o=l(r(1173));class u extends s.ConfirmAction{constructor(){super(...arguments),(0,i.default)(this,"allowedCheckFunction",(()=>!0)),(0,i.default)(this,"policy","instance:delete"),(0,i.default)(this,"onSubmit",(e=>o.default.delete({id:e.id})))}get id(){return"delete"}get title(){return t("Delete")}get actionName(){return t("Delete")}get isDanger(){return!0}}a.default=u},3965:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.StepDetails=void 0;var i=l(r(65)),s=l(r(62)),o=l(r(33)),u=l(r(52)),d=l(r(37)),c=l(r(0)),f=r(382),m=l(r(1121)),p=r(32),v=l(r(1173)),h=l(r(1180)),g=l(r(1195));class y extends m.default{constructor(){super(...arguments),(0,d.default)(this,"allowed",(()=>i.default.resolve())),(0,d.default)(this,"onChangeDatastoresTypeChange",(e=>{this.setState({datastoreType:e}),this.resetFormValue(["datastore_version"])})),(0,d.default)(this,"onFlavorChange",(e=>{this.updateContext({flavor:e})})),(0,d.default)(this,"checkSystemDisk",((e,t)=>t.type?i.default.resolve():i.default.reject(""))),(0,d.default)(this,"onSystemDiskChange",(e=>{this.updateContext({volume_type:e})}))}init(){this.instancesStore=v.default,this.getDatastores(),this.getAvailZones()}get title(){return t("Details *")}get name(){return"Details"}get nameForStateUpdate(){return["flavor","datastore_type"]}get defaultValue(){return{project:this.currentProjectName}}get availableZones(){var e,t;return(0,s.default)(e=(0,o.default)(t=h.default.list.data||[]).call(t,(e=>e.zoneState.available))).call(e,(e=>({value:e.zoneName,label:e.zoneName})))}getAvailZones(){return(0,u.default)((function*(){h.default.fetchListWithoutDetail()}))()}get datastores(){var e;return(0,s.default)(e=v.default.dataList||[]).call(e,(e=>({label:e.name,value:e.name,originData:(0,p.toJS)(e)})))}getDatastores(){return(0,u.default)((function*(){v.default.listDatastores()}))()}get datastoresVersion(){var e,t;return(0,s.default)(e=(0,o.default)(t=this.datastores).call(t,(e=>e.label===this.state.datastore_type))).call(e,(e=>{var t;return(0,s.default)(t=e.originData.versions).call(t,(e=>({label:e.name,value:e.name})))}))[0]}getFlavorComponent(){return c.default.createElement(g.default,{onChange:this.onFlavorChange})}getSystemDiskMinSize(){var e=(this.state.flavor||{}).disk||0;return Math.max(e,0,1)}get formItems(){return[{name:"project",label:t("Project"),type:"label"},{type:"divider"},{name:"zone",label:t("Availability Zone"),type:"select",placeholder:t("Please select"),options:this.availableZones,required:!0},{name:"instance_name",label:t("Instance Name"),type:"input",required:!0},{name:"size",label:t("Size (GiB)"),type:"input-int",min:1,max:50,placeholder:t("Size"),required:!0,wrapperCol:{xs:{span:24},sm:{span:18}}},{type:"divider"},{name:"datastore_type",label:t("Datastore Type"),type:"select",options:this.datastores,onChange:e=>{this.onChangeDatastoresTypeChange(e)},required:!0,tip:t("Type of datastore")},{name:"datastore_version",label:t("Datastore Version"),type:"select",options:this.datastoresVersion,required:!0,tip:t("Version of datastore")},{type:"divider"},{name:"flavor",label:t("Flavor"),component:this.getFlavorComponent(),wrapperCol:{xs:{span:24},sm:{span:18}},tip:t("Size of image to launch"),required:!0},{name:"locality",label:t("Locality"),type:"select",options:[{label:t("Affinity"),value:"affinity"},{label:t("Anti-Affinity"),value:"anti-affinity"}],tip:t("Specify whether future replicated instances will be created on the same hypervisor (affinity) or on different hypervisors (anti-affinity). This value is ignored if the instance to be launched is a replica.")}]}}a.StepDetails=y;var b=(0,f.inject)("rootStore")((0,f.observer)(y));a.default=b},3966:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.StepNetworking=void 0;var i=l(r(65)),s=l(r(37)),o=r(382),u=l(r(1121));class d extends u.default{constructor(){super(...arguments),(0,s.default)(this,"allowed",(()=>i.default.resolve()))}get title(){return t("Networking *")}get name(){return"Networking"}get defaultValue(){return{project:this.currentProjectName}}get formItems(){return[{name:"project",label:t("Project"),type:"label"},{type:"divider"},{name:"network",label:t("Network"),type:"network-select-table",required:!0}]}}a.StepNetworking=d;var c=(0,o.inject)("rootStore")((0,o.observer)(d));a.default=c},3967:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.StepInitializeDatabases=void 0;var i=l(r(65)),s=l(r(37)),o=r(382),u=l(r(1121)),d=r(514);class c extends u.default{constructor(){super(...arguments),(0,s.default)(this,"allowed",(()=>i.default.resolve()))}get title(){return t("Initialize Databases")}get name(){return"Initialize Databases"}get defaultValue(){return{project:this.currentProjectName}}get formItems(){return[{name:"project",label:t("Project"),type:"label"},{type:"divider"},{name:"initialDatabases",label:t("Initial Databases"),type:"input-name",required:!0,maxLength:64,isDatabaseName:!0},{name:"initialAdminUser",label:t("Initial Admin User"),type:"input-name",required:!0,maxLength:16,isDatabaseUserName:!0},{name:"password",label:t("Password"),type:"input-password",required:!0,otherRule:(0,d.getPasswordOtherRule)("password")},{name:"confirmPassword",label:t("Confirm Password"),type:"input-password",required:!0,dependencies:["password"],otherRule:(0,d.getPasswordOtherRule)("confirmPassword")}]}}a.StepInitializeDatabases=c;var f=(0,o.inject)("rootStore")((0,o.observer)(c));a.default=f},3968:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.StepAdvanced=void 0;var i=l(r(65)),s=l(r(62)),o=l(r(52)),u=l(r(37)),d=r(382),c=l(r(1121)),f=l(r(1173));class m extends c.default{constructor(){super(...arguments),(0,u.default)(this,"allowed",(()=>i.default.resolve()))}init(){this.getConfigurationGroups()}get title(){return t("Initialize Databases")}get name(){return"Initialize Databases"}get configurationGroup(){var e;return(0,s.default)(e=f.default.list.data||[]).call(e,(e=>({label:e.name,value:e.id})))}getConfigurationGroups(){return(0,o.default)((function*(){f.default.listConfigurationGroup()}))()}get formItems(){return[{name:"project",label:t("Project"),type:"label"},{type:"divider"},{name:"configurationGroup",label:t("Configuration Group"),type:"select",options:this.configurationGroup}]}}a.StepAdvanced=m;var p=(0,d.inject)("rootStore")((0,d.observer)(m));a.default=p},3969:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.Backups=void 0;var i=l(r(37)),s=l(r(1114)),o=r(382),u=l(r(1270)),d=l(r(3970));class c extends s.default{constructor(){super(...arguments),(0,i.default)(this,"getColumns",(()=>[{title:t("Backup Name"),dataIndex:"name",routeName:this.getRouteName("databaseBackupDetail")},{title:t("Description"),isHideable:!0,dataIndex:"description"}]))}init(){this.store=u.default}get name(){return t("backups")}get actionConfigs(){return d.default.actionConfigs}get policy(){return"backup:index"}get searchFilters(){return[{label:t("Name"),name:"name"}]}}a.Backups=c;var f=(0,o.inject)("rootStore")((0,o.observer)(c));a.default=f},3970:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(3971)),i=n(a(3972)),s={actionConfigs:{rowActions:{firstAction:i.default},batchActions:[i.default],primaryActions:[l.default]}};t.default=s},3971:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.Create=void 0;var i=l(r(65)),s=l(r(62)),o=l(r(52)),u=l(r(37)),d=r(1113),c=r(382),f=l(r(1173)),m=l(r(1270));class p extends d.ModalAction{constructor(){super(...arguments),(0,u.default)(this,"onSubmit",(e=>this.store.create({backup:{description:e.description,instance:e.instance,name:e.name}})))}init(){this.store=m.default,this.getDatabaseInstance()}static get modalSize(){return"middle"}getModalSize(){return"middle"}get name(){return t("Create Backups")}static allowed(){return i.default.resolve(!0)}get listInstanceName(){var e;return(0,s.default)(e=f.default.list.data||[]).call(e,(e=>({value:e.id,label:e.name})))}getDatabaseInstance(){return(0,o.default)((function*(){yield f.default.fetchListWithoutDetail()}))()}get formItems(){return[{name:"name",label:t("Backup Name"),type:"input",required:!0},{name:"instance",label:t("Database Instance"),type:"select",options:this.listInstanceName,required:!0},{name:"description",label:t("Description"),type:"input"}]}}a.Create=p,(0,u.default)(p,"id","create-backups"),(0,u.default)(p,"title",t("Create Backups")),(0,u.default)(p,"policy","backup:create"),(0,u.default)(p,"aliasPolicy","trove:backup:create");var v=(0,c.inject)("rootStore")((0,c.observer)(p));a.default=v},3972:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=void 0;var i=l(r(37)),s=r(1113),o=l(r(1270));class u extends s.ConfirmAction{constructor(){super(...arguments),(0,i.default)(this,"allowedCheckFunction",(()=>!0)),(0,i.default)(this,"policy","instance:delete"),(0,i.default)(this,"onSubmit",(e=>o.default.delete({id:e.id})))}get id(){return"delete"}get title(){return t("Delete Backup")}get actionName(){return t("Delete Backup")}get isDanger(){return!0}}a.default=u},3973:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.Configurations=void 0;var i=l(r(37)),s=l(r(1114)),o=r(382),u=l(r(1271)),d=l(r(3974));class c extends s.default{constructor(){super(...arguments),(0,i.default)(this,"getColumns",(()=>[{title:t("Configuration Group Name"),dataIndex:"name",routeName:this.getRouteName("configurationsDetail")},{title:t("Description"),isHideable:!0,dataIndex:"description"},{title:t("Datastore"),dataIndex:"datastore"},{title:t("Datastore Version"),dataIndex:"datastoreVersion"}]))}init(){this.store=u.default}get name(){return t("configurations")}get actionConfigs(){return d.default.actionConfigs}get policy(){return"configuration:index"}get searchFilters(){return[{label:t("Name"),name:"name"}]}}a.Configurations=c;var f=(0,o.inject)("rootStore")((0,o.observer)(c));a.default=f},3974:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(3975)),i=n(a(3976)),s={actionConfigs:{rowActions:{firstAction:i.default},batchActions:[i.default],primaryActions:[l.default]}};t.default=s},3975:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.Create=void 0;var i=l(r(65)),s=l(r(62)),o=l(r(33)),u=l(r(52)),d=l(r(37)),c=r(1113),f=r(382),m=l(r(1173)),p=l(r(1271)),v=r(32);class h extends c.ModalAction{constructor(){super(...arguments),(0,d.default)(this,"onChangeDatastoresTypeChange",(e=>{this.setState({datastore_type:e}),this.resetFormValue(["datastore_version"])})),(0,d.default)(this,"onSubmit",(e=>this.store.create({configuration:{description:e.description,datastore:{type:e.datastore_type,version:e.datastore_version},name:e.name,values:{connect_timeout:200}}})))}init(){this.store=p.default,this.getDatastores(),this.state.datastore_type=null}static get modalSize(){return"middle"}getModalSize(){return"middle"}get name(){return t("Create Configurations")}static allowed(){return i.default.resolve(!0)}getDatastores(){return(0,u.default)((function*(){yield m.default.listDatastores()}))()}get datastores(){var e;return(0,s.default)(e=m.default.dataList||[]).call(e,(e=>({label:e.name,value:e.name,originData:(0,v.toJS)(e)})))}get datastoresVersion(){var e,t;return(0,s.default)(e=(0,o.default)(t=this.datastores).call(t,(e=>e.label===this.state.datastore_type))).call(e,(e=>{var t;return(0,s.default)(t=e.originData.versions).call(t,(e=>({label:e.name,value:e.name})))}))[0]}get formItems(){return[{name:"name",label:t("Name"),type:"input",required:!0},{name:"description",label:t("Description"),type:"input"},{name:"datastore_type",label:t("Datastore Type"),type:"select",options:this.datastores,onChange:e=>{this.onChangeDatastoresTypeChange(e)},required:!0},{name:"datastore_version",label:t("Datastore Version"),type:"select",options:this.datastoresVersion,required:!0}]}}a.Create=h,(0,d.default)(h,"id","create-configurations"),(0,d.default)(h,"title",t("Create Configurations")),(0,d.default)(h,"policy","configuration:create");var g=(0,f.inject)("rootStore")((0,f.observer)(h));a.default=g},3976:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=void 0;var i=l(r(37)),s=r(1113),o=l(r(1271));class u extends s.ConfirmAction{constructor(){super(...arguments),(0,i.default)(this,"allowedCheckFunction",(()=>!0)),(0,i.default)(this,"policy","instance:delete"),(0,i.default)(this,"onSubmit",(e=>o.default.delete({id:e.id})))}get id(){return"delete"}get title(){return t("Delete Configuration")}get actionName(){return t("Delete Configuration")}get isDanger(){return!0}}a.default=u},3977:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.InstancesDetail=void 0;var i=r(382),s=l(r(1119)),o=l(r(1173)),u=r(1332),d=l(r(3978)),c=l(r(3979)),f=l(r(3984)),m=l(r(3988)),p=l(r(3990)),v=l(r(3992));class h extends s.default{init(){this.store=o.default}get name(){return t("Backup Detail")}get policy(){return"instance:detail"}get aliasPolicy(){return"trove:instance:detail"}get listUrl(){return this.getRoutePath("databaseInstances")}get detailInfos(){return[{title:t("ID"),dataIndex:"id"},{title:t("Name"),dataIndex:"name"},{title:t("Status"),dataIndex:"status",render:e=>u.InstanceStatus[e]||e},{title:t("Project ID"),dataIndex:"tenant_id",hidden:!this.isAdminPage}]}get tabs(){return[{title:t("General Info"),key:"general_info",component:d.default},{title:t("Users"),key:"users",component:c.default},{title:t("Databases"),key:"databases",component:f.default},{title:t("Backups"),key:"backups",component:m.default},{title:t("Logs"),key:"logs",component:p.default},{title:t("Defaults"),key:"defaults",component:v.default}]}}a.InstancesDetail=h;var g=(0,i.inject)("rootStore")((0,i.observer)(h));a.default=g},3978:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.BaseDetail=void 0;var i=l(r(62)),s=l(r(0)),o=r(382),u=l(r(1122)),d=r(1332);class c extends u.default{get leftCards(){return[this.baseInfoCard,this.specsCard,this.connectionInfoCard]}get rightCards(){return[this.faultCard]}get baseInfoCard(){var e=[{label:t("Name"),dataIndex:"name"},{label:t("Datastore"),dataIndex:"datastore.type"},{label:t("Datastore Version"),dataIndex:"datastore.version"},{label:t("Status"),dataIndex:"status",render:e=>d.InstanceStatus[e]||e},{label:t("Locality"),dataIndex:"locality",render:e=>d.policyType[e]||e}];return{title:t("Base Info"),options:e}}get specsCard(){var e=[{label:t("Flavor"),dataIndex:"flavor.id",render:e=>this.getLinkRender("flavorDetail",e,{id:e},null)},{label:t("Volume Size"),dataIndex:"volume.size"},{label:t("Created"),dataIndex:"created",valueRender:"toLocalTime"},{label:t("Updated"),dataIndex:"updated",valueRender:"toLocalTime"},{label:t("Service Status Updated"),dataIndex:"service_status_update"}];return{title:t("Specs"),options:e}}get connectionInfoCard(){var e=[{label:t("Host"),dataIndex:"ip",render:e=>e&&e.length?s.default.createElement("span",null,(0,i.default)(e).call(e,(e=>s.default.createElement("div",{key:e},e)))):"-"},{label:t("Database Port"),dataIndex:"datastore.type",render:e=>{switch(e){case"mysql":return"3306";case"mongodb":return"27017";case"postgresql":return"5432"}}},{label:t("Connection Examples"),dataIndex:"connection_examples"}];return{title:t("Connection Information"),options:e}}get faultCard(){var e=[{label:t("Created"),dataIndex:"created",valueRender:"toLocalTime"},{label:t("Message"),dataIndex:"fault.message"},{label:t("Message Details"),dataIndex:"fault.details"}];return{title:t("Fault"),labelCol:2,options:e}}}a.BaseDetail=c;var f=(0,o.inject)("rootStore")((0,o.observer)(c));a.default=f},3979:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.Users=void 0;var i=l(r(62)),s=l(r(37)),o=l(r(0)),u=l(r(1114)),d=r(382),c=r(1272),f=l(r(3980));class m extends u.default{constructor(){super(...arguments),(0,s.default)(this,"getColumns",(()=>[{title:t("User Name"),dataIndex:"name"},{title:t("Allowed Host"),dataIndex:"host"},{title:t("Databases"),dataIndex:"databases",render:e=>e.length?o.default.createElement("span",null,(0,i.default)(e).call(e,(e=>o.default.createElement("div",{key:e},e)))):"-"}]))}init(){this.store=new c.InstancesUsersStore}get rowKey(){return"name"}get name(){return t("Users")}get actionConfigs(){return this.isAdminPage?f.default.actionConfigsAdmin:f.default.actionConfigs}get policy(){return"instance:extension:user:index"}get hideCustom(){return!0}}a.Users=m;var p=(0,d.inject)("rootStore")((0,d.observer)(m));a.default=p},3980:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(3981)),i=n(a(3982)),s=n(a(3983)),o={actionConfigs:{rowActions:{firstAction:l.default,moreActions:[{action:s.default}]},batchActions:[l.default],primaryActions:[i.default]},actionConfigsAdmin:{rowActions:{firstAction:l.default},batchActions:[l.default],primaryActions:[]}};t.default=o},3981:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=void 0;var i=l(r(37)),s=r(1113),o=l(r(1272));class u extends s.ConfirmAction{constructor(){super(...arguments),(0,i.default)(this,"allowedCheckFunction",(()=>!0)),(0,i.default)(this,"policy","instance:extension:user:delete"),(0,i.default)(this,"onSubmit",(e=>{var{id:t}=this.containerProps.detail,a=e.name||this.item.name;return o.default.deleteUser({id:t,name:a})}))}get id(){return"delete-database-user"}get title(){return t("Delete User")}get actionName(){return t("Delete User")}get isDanger(){return!0}get buttonText(){return t("Delete")}}a.default=u},3982:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.UserCreate=void 0;var i=l(r(62)),s=l(r(65)),o=l(r(52)),u=l(r(37)),d=r(382),c=l(r(1244)),f=l(r(1272)),m=r(1228),p=r(514);class v extends c.default{constructor(){super(...arguments),(0,u.default)(this,"onSubmit",(e=>{var t,{id:a}=this.item;return this.store.create(a,{users:[{databases:(0,i.default)(t=e.database).call(t,(e=>({name:e}))),name:e.userName,password:e.password}]})}))}init(){var e=this;return(0,o.default)((function*(){e.store=f.default,e.databaseStore=new m.InstancesDatabasesStore,yield e.fetchDatabase()}))()}get name(){return t("Create User")}static allowed(){return s.default.resolve(!0)}fetchDatabase(){var{id:e}=this.item;this.databaseStore.fetchList({id:e})}get database(){var e;return(0,i.default)(e=this.databaseStore.list.data||[]).call(e,(e=>({label:e.name,value:e.name,key:e.name})))}get formItems(){return[{name:"userName",label:t("Name"),type:"input-name",required:!0,isDatabaseUserName:!0,maxLength:16},{name:"database",label:t("Database"),type:"select",options:this.database,mode:"multiple",required:!0},{name:"password",label:t("Password"),type:"input-password",required:!0,otherRule:(0,p.getPasswordOtherRule)("password")},{name:"confirmPassword",label:t("Confirm Password"),type:"input-password",required:!0,dependencies:["password"],otherRule:(0,p.getPasswordOtherRule)("confirmPassword")}]}}a.UserCreate=v,(0,u.default)(v,"id","create-user"),(0,u.default)(v,"title",t("Create User")),(0,u.default)(v,"policy","instance:extension:user:create");var h=(0,d.inject)("rootStore")((0,d.observer)(v));a.default=h},3983:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.UserDatabase=void 0;var i=l(r(62)),s=l(r(65)),o=l(r(52)),u=l(r(37)),d=r(382),c=l(r(1244)),f=l(r(1272)),m=r(1228);class p extends c.default{constructor(){super(...arguments),(0,u.default)(this,"onSubmit",((e,t)=>{var a,{detail:{id:r}={}}=t,n={databases:(0,i.default)(a=e.database).call(a,(e=>({name:e})))};return this.store.grantDatabaseAccess({id:r,name:e.name,data:n})}))}init(){this.store=f.default,this.databaseStore=new m.InstancesDatabasesStore,this.fetchDatabase()}get name(){return t("Grant Databases Access")}static allowed(){return s.default.resolve(!0)}fetchDatabase(){var e=this;return(0,o.default)((function*(){var{containerProps:{detail:{id:t}={}}={}}=e.props;yield e.databaseStore.fetchList({id:t}),e.updateDefaultValue()}))()}get database(){var e;return(0,i.default)(e=this.databaseStore.list.data||[]).call(e,(e=>({label:e.name,value:e.name,key:e.name})))}get defaultValue(){var{name:e,databases:t}=this.item;return{name:e,database:t}}get formItems(){return[{name:"name",label:t("Name"),type:"input-name",required:!0,disabled:!0},{name:"database",label:t("Database"),type:"select",options:this.database,mode:"multiple",required:!0,loading:this.databaseStore.list.isLoading,disabled:this.databaseStore.list.isLoading}]}}a.UserDatabase=p,(0,u.default)(p,"id","grant-databases-access"),(0,u.default)(p,"title",t("Grant Databases Access")),(0,u.default)(p,"policy","instance:extension:user_access:update");var v=(0,d.inject)("rootStore")((0,d.observer)(p));a.default=v},3984:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.Databases=void 0;var i=l(r(37)),s=l(r(1114)),o=r(382),u=r(1228),d=l(r(3985));class c extends s.default{constructor(){super(...arguments),(0,i.default)(this,"getColumns",(()=>[{title:t("Database Name"),dataIndex:"name"}]))}init(){this.store=new u.InstancesDatabasesStore}get rowKey(){return"name"}get name(){return"Databases"}get policy(){return"instance:detail"}get aliasPolicy(){return"trove:instance:detail"}get actionConfigs(){return this.isAdminPage?d.default.actionConfigsAdmin:d.default.actionConfigs}get hideCustom(){return!0}}a.Databases=c;var f=(0,o.inject)("rootStore")((0,o.observer)(c));a.default=f},3985:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(3986)),i=n(a(3987)),s={actionConfigs:{rowActions:{firstAction:l.default},batchActions:[l.default],primaryActions:[i.default]},actionConfigsAdmin:{rowActions:{firstAction:l.default},batchActions:[l.default],primaryActions:[]}};t.default=s},3986:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=void 0;var i=l(r(37)),s=r(1113),o=l(r(1228));class u extends s.ConfirmAction{constructor(){super(...arguments),(0,i.default)(this,"allowedCheckFunction",(()=>!0)),(0,i.default)(this,"policy","instance:extension:database:delete"),(0,i.default)(this,"onSubmit",(e=>{var{id:t}=this.containerProps.detail,a=e.name||this.item.name;return o.default.deleteDatabase({id:t,name:a})}))}get id(){return"delete-database-database"}get title(){return t("Delete Database")}get actionName(){return t("Delete Database")}get isDanger(){return!0}get buttonText(){return t("Delete")}}a.default=u},3987:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.DatabaseCreate=void 0;var i=l(r(65)),s=l(r(37)),o=r(382),u=l(r(1244)),d=l(r(1228));class c extends u.default{constructor(){super(...arguments),(0,s.default)(this,"onSubmit",(e=>{var{id:t}=this.item;return this.store.create(t,{databases:[{character_set:"utf8",collate:"utf8_general_ci",name:e.databaseName}]})}))}init(){this.store=d.default}get name(){return t("Create Database")}static allowed(){return i.default.resolve(!0)}get formItems(){return[{name:"databaseName",label:t("Name"),type:"input-name",required:!0,isDatabaseName:!0,maxLength:64}]}}a.DatabaseCreate=c,(0,s.default)(c,"id","create-database"),(0,s.default)(c,"title",t("Create Database")),(0,s.default)(c,"policy","instance:extension:database:create");var f=(0,o.inject)("rootStore")((0,o.observer)(c));a.default=f},3988:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.Backups=void 0;var i=l(r(37)),s=l(r(1114)),o=r(382),u=r(3989);class d extends s.default{constructor(){super(...arguments),(0,i.default)(this,"getColumns",(()=>[{title:t("Name"),dataIndex:"name"},{title:t("Created"),dataIndex:"created"},{title:t("Backup File"),dataIndex:"locationRef"},{title:t("Incremental"),dataIndex:"incremental"},{title:t("Status"),dataIndex:"status"}]))}init(){this.store=new u.InstanceBackupsStore}get name(){return t("Backups")}get policy(){return"instance:backups"}}a.Backups=d;var c=(0,o.inject)("rootStore")((0,o.observer)(d));a.default=c},3989:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=t.InstanceBackupsStore=void 0;var l=n(a(54)),i=n(a(49));class s extends l.default{get client(){return i.default.trove.instances.backups}get responseKey(){return"backup"}get isSubResource(){return!0}get paramsFunc(){return()=>{}}}t.InstanceBackupsStore=s;var o=new s;t.default=o},3990:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.Logs=void 0;var i=l(r(37)),s=l(r(1114)),o=r(382),u=r(3991);class d extends s.default{constructor(){super(...arguments),(0,i.default)(this,"getColumns",(()=>[{title:t("Name"),dataIndex:"name"}]))}init(){this.store=new u.InstancesLogStore}get name(){return t("Log")}get policy(){return"instance:guest_log_list"}}a.Logs=d;var c=(0,o.inject)("rootStore")((0,o.observer)(d));a.default=c},3991:function(e,t,a){"use strict";var r=a(19),n=a(21);r(t,"__esModule",{value:!0}),t.default=t.InstancesLogStore=void 0;var l=n(a(54)),i=n(a(49));class s extends l.default{get client(){return i.default.trove.instances.log}get responseKey(){return"logs"}get isSubResource(){return!0}get paramsFunc(){return()=>{}}}t.InstancesLogStore=s;var o=new s;t.default=o},3992:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.Defaults=void 0;var i=l(r(1122)),s=r(382),o=r(47);class u extends i.default{get leftCards(){return[this.baseInfoCard]}get baseInfoCard(){var e=[{label:t("Number of Nodes"),dataIndex:"node_groups",render:e=>(0,o.get)(e,["0","count"],"-")}];return{title:t("Defaults"),options:e}}}a.Defaults=u;var d=(0,s.inject)("rootStore")((0,s.observer)(u));a.default=d},3993:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.ConfigurationsDetail=void 0;var i=r(382),s=l(r(1119)),o=l(r(1271)),u=l(r(3994)),d=l(r(3995)),c=l(r(3996));class f extends s.default{init(){this.store=o.default}get name(){return"Configurations Detail"}get listUrl(){return this.getRoutePath("configurations")}get policy(){return"configuration:show"}get detailInfos(){return[{title:t("Name"),dataIndex:"name"}]}get tabs(){return[{title:t("General Info"),key:"general_info",component:u.default},{title:t("Values"),key:"values",component:d.default},{title:t("Instances"),key:"instances",component:c.default}]}}a.ConfigurationsDetail=f;var m=(0,i.inject)("rootStore")((0,i.observer)(f));a.default=m},3994:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.BaseDetail=void 0;var i=r(382),s=l(r(1122));class o extends s.default{get leftCards(){return[this.baseInfoCard]}get baseInfoCard(){var e=[{label:t("Name"),dataIndex:"name"},{label:t("Description"),dataIndex:"description"},{label:t("Datastore"),dataIndex:"datastore_name"},{label:t("Datastore Version"),dataIndex:"datastore_version_name"},{label:t("Created"),dataIndex:"created"},{label:t("Updated"),dataIndex:"updated"}];return{title:t("Base Info"),options:e}}}a.BaseDetail=o;var u=(0,i.inject)("rootStore")((0,i.observer)(o));a.default=u},3995:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.Values=void 0;var i=l(r(1122)),s=r(382);class o extends i.default{get leftCards(){return[this.baseInfoCard]}get baseInfoCard(){var e=[{label:t("Values"),dataIndex:"values"}];return{title:t("Defaults"),options:e}}}a.Values=o;var u=(0,s.inject)("rootStore")((0,s.observer)(o));a.default=u},3996:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.Instances=void 0;var i=l(r(1122)),s=r(382);class o extends i.default{get leftCards(){return[this.baseInfoCard]}get baseInfoCard(){var e=[{label:t("Instances"),dataIndex:"instance_count"}];return{title:t("Defaults"),options:e}}}a.Instances=o;var u=(0,s.inject)("rootStore")((0,s.observer)(o));a.default=u},3997:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.BackupsDetail=void 0;var i=r(382),s=l(r(1119)),o=r(1270),u=l(r(3998));class d extends s.default{init(){this.store=new o.BackupsStore}get name(){return"Backup Detail"}get listUrl(){return this.getRoutePath("databaseBackups")}get policy(){return"backup:show"}get detailInfos(){return[{title:t("Name"),dataIndex:"name"},{title:t("Description"),dataIndex:"description"}]}get tabs(){return[{title:t("General Info"),key:"general_info",component:u.default}]}}a.BackupsDetail=d;var c=(0,i.inject)("rootStore")((0,i.observer)(d));a.default=c},3998:function(e,a,r){"use strict";var n=r(19),l=r(21);n(a,"__esModule",{value:!0}),a.default=a.BaseDetail=void 0;var i=r(382),s=l(r(1122));class o extends s.default{get leftCards(){return[this.baseInfoCard]}get baseInfoCard(){var e=[{label:t("Datastore"),dataIndex:"datastore.type"},{label:t("Datastore Version"),dataIndex:"datastore.version"},{label:t("Backup File Location"),dataIndex:"locationRef"},{label:t("Initial Volume Size"),dataIndex:"size"},{label:t("Created"),dataIndex:"created"},{label:t("Updated"),dataIndex:"updated"},{label:t("Status"),dataIndex:"status"}];return{title:t("Base Info"),options:e}}}a.BaseDetail=o;var u=(0,i.inject)("rootStore")((0,i.observer)(o));a.default=u}}]);